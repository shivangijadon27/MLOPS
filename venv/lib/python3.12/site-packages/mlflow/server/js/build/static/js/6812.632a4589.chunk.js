"use strict";(self.webpackChunk_mlflow_mlflow=self.webpackChunk_mlflow_mlflow||[]).push([[6812],{10536:function(e,r,t){t.d(r,{o:function(){return d},z:function(){return p}});var n=t(68248),s=(t(46709),t(82716)),i=t(27757),o=t(79081),a=t(7655),u=t(36439),c=t(73408);function d({menu:e}){const r=(0,c.Y)(s.Menu,{children:e.map(({id:e,itemName:r,onClick:t,href:n,...i})=>(0,c.Y)(s.Menu.Item,{onClick:t,href:n,"data-testid":e,...i,children:r},e))});return e.length>0?(0,c.Y)(s.Dropdown,{overlay:r,trigger:["click"],placement:"bottomLeft",arrow:!0,children:(0,c.Y)(i.B,{componentId:"codegen_mlflow_app_src_shared_building_blocks_pageheader.tsx_54",icon:(0,c.Y)(s.OverflowIcon,{}),"data-testid":"overflow-menu-trigger","aria-label":"Open header dropdown menu"})}):null}var l={name:"1gz4j9a",styles:"margin-left:0"};function p(e){const{title:r,breadcrumbs:t=[],titleAddOns:d=[],preview:p,children:m,spacerSize:h,hideSpacer:g=!1,dangerouslyAppendEmotionCSS:f}=e,{theme:E}=(0,i.u)();(0,a.A)();return(0,c.FD)(c.FK,{children:[(0,c.Y)(s.Header,{breadcrumbs:t.length>0&&(0,c.Y)(s.Breadcrumb,{includeTrailingCaret:!0,children:t.map((e,r)=>(0,c.Y)(s.Breadcrumb.Item,{children:e},r))}),buttons:m,title:r,titleAddOns:(0,c.FD)(c.FK,{children:[p&&(0,c.Y)(u.W,{css:l}),d]}),dangerouslyAppendEmotionCSS:f}),(0,c.Y)(o.S,{css:(0,n.AH)({flexShrink:0,...g?{display:"none"}:{}},""),size:h})]})}},30383:function(e,r,t){var n=t(46709),s=t(73408);class i extends n.Component{render(){return(0,s.Y)("div",{children:"Resource not found."})}}r.A=i},36439:function(e,r,t){t.d(r,{W:function(){return u}});var n=t(68248),s=(t(46709),t(40724)),i=t(82716),o=t(27757),a=t(73408);const u=({className:e})=>{const{theme:r}=(0,o.u)();return(0,a.Y)(i.Tag,{componentId:"codegen_mlflow_app_src_shared_building_blocks_previewbadge.tsx_14",className:e,css:(0,n.AH)({marginLeft:r.spacing.xs},""),color:"turquoise",children:(0,a.Y)(s.A,{id:"8qJt7/",defaultMessage:"Experimental"})})}},54401:function(e,r,t){t.d(r,{L:function(){return o}});t(46709);var n=t(82716),s=t(79081),i=t(73408);function o(e){const{usesFullHeight:r,...t}=e;return(0,i.FD)(n.PageWrapper,{css:r?a.useFullHeightLayout:a.wrapper,children:[(0,i.Y)(s.S,{css:a.fixedSpacer}),r?e.children:(0,i.Y)("div",{...t,css:a.container})]})}o.defaultProps={usesFullHeight:!1};const a={useFullHeightLayout:{height:"100%",display:"flex",flexDirection:"column","&:last-child":{flexGrow:1}},wrapper:{flex:1},fixedSpacer:{flexShrink:0},container:{width:"100%",flexGrow:1,paddingBottom:24}}},55570:function(e,r,t){t.d(r,{X:function(){return d}});t(46709);var n=t(89949),s=t(82716),i=t(27757),o=t(40724),a=t(73408);function u(){return(0,a.Y)(s.Empty,{"data-testid":"fallback",title:(0,a.Y)(o.A,{id:"qAdWdK",defaultMessage:"Error"}),description:(0,a.Y)(o.A,{id:"RzZVxC",defaultMessage:"An error occurred while rendering this component."}),image:(0,a.Y)(i.k,{})})}function c({children:e,customFallbackComponent:r}){function t(e,r){console.error("Caught Unexpected Error: ",e,r.componentStack)}return r?(0,a.Y)(n.tH,{onError:t,FallbackComponent:r,children:e}):(0,a.Y)(n.tH,{onError:t,fallback:(0,a.Y)(u,{}),children:e})}function d(e,r,t,n){return function(e){return(0,a.Y)(c,{customFallbackComponent:n,children:(0,a.Y)(r,{...e})})}}},55840:function(e,r,t){t.d(r,{z:function(){return u}});var n=t(98022),s=t.n(n),i=t(46709),o=t(91105),a=t(11522);const u=()=>{const e=(0,o.g)(),r=(0,o.zy)(),t=(0,i.useMemo)(()=>decodeURIComponent(r.search),[r.search]),n=(0,i.useMemo)(()=>{const e=s().parse(t.substring(1));if(e.experiments){const r=e.experiments;return(null===r||void 0===r?void 0:r.toString())||""}return""},[t]);return(0,i.useMemo)(()=>{if(null!==e&&void 0!==e&&e.experimentId)return[null===e||void 0===e?void 0:e.experimentId];if(n)try{return JSON.parse(n)}catch{return a.A.logErrorAndNotifyUser(`Could not parse experiment query parameter ${n}`),""}return[]},[n,null===e||void 0===e?void 0:e.experimentId])}},76256:function(e,r,t){t.d(r,{L:function(){return s},S:function(){return i}});var n=t(43617);function s(e,r){return(0,n.N4)(r)}const i=n.N4},91113:function(e,r,t){t.d(r,{h:function(){return a}});var n=t(36476),s=t(77153),i=t(24523);class o{}o.mlflowServices={MODEL_REGISTRY:"Model Registry",EXPERIMENTS:"Experiments",CHAT_SESSIONS:"Chat Sessions",MODEL_SERVING:"Model Serving",RUN_TRACKING:"Run Tracking"};const a=(e,r)=>{if(!(e instanceof s.s))return;const{status:t}=e;let o;const a={status:t};e.getErrorCode()===i.tG.RESOURCE_DOES_NOT_EXIST&&(o=new n.m_(a)),e.getErrorCode()===i.tG.PERMISSION_DENIED&&(o=new n.i_(a)),e.getErrorCode()===i.tG.INTERNAL_ERROR&&(o=new n.PO(a)),e.getErrorCode()===i.tG.INVALID_PARAMETER_VALUE&&(o=new n.v7(a));const u=e.getMessageField();return o&&u&&(o.message=u),o};r.A=o},91908:function(e,r,t){t.r(r),t.d(r,{MetricPage:function(){return P},MetricPageImpl:function(){return N},default:function(){return b}});var n=t(46709),s=t(56530),i=t(98022),o=t.n(i),a=t(5690),u=t(74264),c=t(30383),d=t(40724),l=t(11522),p=t(40072),m=t(61886),h=t(91105),g=t(10536),f=t(60284),E=t(2560),x=t(73408);class I extends n.Component{getCompareRunsPageText(e,r){return r>1?(0,x.Y)(d.A,{id:"IEORCP",defaultMessage:"Comparing {numRuns} Runs from {numExperiments} Experiments",values:{numRuns:e,numExperiments:r}}):(0,x.Y)(d.A,{id:"NN0ScV",defaultMessage:"Comparing {numRuns} Runs from 1 Experiment",values:{numRuns:e}})}hasMultipleExperiments(){return this.props.experimentIds.length>1}getRunPageLink(){const{experimentIds:e,runUuids:r,runNames:t}=this.props;if(!r||0===r.length)return null;if(1===r.length)return(0,x.Y)(h.N_,{to:f.Ay.getRunPageRoute(e[0],r[0]),children:t[0]});const n=this.getCompareRunsPageText(r.length,e.length);return(0,x.Y)(h.N_,{to:f.Ay.getCompareRunPageRoute(r,e),children:n})}getCompareExperimentsPageLinkText(e){return(0,x.Y)(d.A,{id:"LLm5Bo",defaultMessage:"Displaying Runs from {numExperiments} Experiments",values:{numExperiments:e}})}getExperimentPageLink(){const{comparedExperimentIds:e,hasComparedExperimentsBefore:r,experimentIds:t,experiments:n}=this.props;if(r&&e){const r=this.getCompareExperimentsPageLinkText(e.length);return(0,x.Y)(h.N_,{to:f.Ay.getCompareExperimentsPageRoute(e),children:r})}if(this.hasMultipleExperiments()){const e=this.getCompareExperimentsPageLinkText(t.length);return(0,x.Y)(h.N_,{to:f.Ay.getCompareExperimentsPageRoute(t),children:e})}return(0,x.Y)(h.N_,{to:f.Ay.getExperimentPageRoute(t[0]),children:n[0].name})}render(){const{experimentIds:e,runUuids:r,metricKey:t,location:n}=this.props,{selectedMetricKeys:s}=l.A.getMetricPlotStateFromUrl(n.search),i=s.length>1?(0,x.Y)(d.A,{id:"wbRVln",defaultMessage:"Metrics"}):s[0],o=[this.getExperimentPageLink(),this.getRunPageLink()];return(0,x.FD)("div",{children:[(0,x.Y)(g.z,{title:i,breadcrumbs:o,hideSpacer:!0}),(0,x.Y)(m.Ay,{experimentIds:e,runUuids:r,metricKey:t,location:n,navigate:this.props.navigate})]})}}const v=(0,E.h)((0,s.Ng)((e,r)=>{const{comparedExperimentIds:t,hasComparedExperimentsBefore:n}=e.compareExperiments,{experimentIds:s,runUuids:i}=r;return{experiments:null!==s?s.map(r=>(0,p._m)(r,e)):null,runNames:i.map(r=>{const t=(0,p.K4)(r,e);return l.A.getRunDisplayName(t,r)}),comparedExperimentIds:t,hasComparedExperimentsBefore:n}})(I));var Y=t(43233),R=t(54401),C=t(55570),y=t(91113),A=t(84173),S=t(77153),_=t(82716),w=t(27757);class N extends n.Component{constructor(e){super(e),this.requestIds=void 0,this.requestIds=[]}fetchExperiments(){return this.props.experimentIds.map(e=>{const r=(0,Y.yk)();return this.props.dispatch((0,a.yc)(e,r)).catch(e=>{if(!(e instanceof S.s))throw e}),r})}componentDidMount(){if(this.props.loadError instanceof Error){const e=this.props.intl.formatMessage({id:"eUUNCv",defaultMessage:"Error during metric page load: invalid URL"});throw new Error(e)}if(null!==this.props.experimentIds){const e=this.fetchExperiments();this.requestIds.push(...e)}this.props.runUuids.forEach(e=>{const r=(0,Y.yk)();this.requestIds.push(r),this.props.dispatch((0,a.aO)(e,r)).catch(e=>{if(!(e instanceof S.s))throw e})})}renderPageContent(){const{runUuids:e}=this.props;return e.length>=1?(0,x.Y)(v,{runUuids:this.props.runUuids,metricKey:this.props.metricKey,experimentIds:this.props.experimentIds}):(0,x.Y)(c.A,{})}render(){return(0,x.Y)(R.L,{children:(0,x.Y)(u.Ay,{requestIds:this.requestIds,customRequestErrorHandlerFn:e=>{var r;const t=null===(r=e.find(e=>e.error))||void 0===r?void 0:r.error;if(t instanceof S.s)throw t.translateToErrorInstance();if(t)throw t},children:this.renderPageContent()})})}}const M=(0,E.h)((0,s.Ng)((e,r)=>{const{location:t}=r,n=o().parse(t.search);try{const e=JSON.parse(n["?runs"]),r=JSON.parse(n.metric);let t=null;return n.hasOwnProperty("experiments")&&(t=JSON.parse(n.experiments)),{runUuids:e,metricKey:r,experimentIds:t}}catch(s){return{runUuids:[],metricKey:"",experimentIds:[],loadError:s}}})((0,A.Ay)(N)));var k={name:"64bku7",styles:"height:100%;align-items:center;justify-content:center;display:flex"};const P=(0,C.X)(y.A.mlflowServices.EXPERIMENTS,M,void 0,({error:e})=>(0,x.Y)("div",{css:k,children:(0,x.Y)(_.Empty,{title:(0,x.Y)(d.A,{id:"N8YuIr",defaultMessage:"Error while loading metric page"}),description:e.message,image:(0,x.Y)(w.k,{})})}));var b=P}}]);