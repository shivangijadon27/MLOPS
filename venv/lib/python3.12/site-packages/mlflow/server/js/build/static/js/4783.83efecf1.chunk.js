"use strict";(self.webpackChunk_mlflow_mlflow=self.webpackChunk_mlflow_mlflow||[]).push([[4783],{2560:function(e,t,n){n.d(t,{h:function(){return i}});n(46709);var s=n(91105),a=n(73408);const i=e=>t=>{const n=(0,s.zy)(),i=(0,s.Zp)(),o=(0,s.g)(),[r,l]=(0,s.ok)();return(0,a.Y)(e,{params:o,location:n,navigate:i,searchParams:r,setSearchParams:l,...t})}},13479:function(){},26158:function(e,t,n){n.d(t,{M:function(){return m},f:function(){return h}});var s=n(49708),a=n(39595),i=n(12803),o=n(46709),r=n(53637),l=n(63776);const d="experiments_page.page_size",c="experiments_page.sorting_state",u="experiment_list",m=()=>{const e=(0,a.jE)();return()=>{e.invalidateQueries({queryKey:[u]})}};function p(e){switch(e.operator){case"IS":return`tags.\`${e.key}\` = '${e.value}'`;case"IS NOT":return`tags.\`${e.key}\` != '${e.value}'`;case"CONTAINS":return`tags.\`${e.key}\` ILIKE '%${e.value}%'`}}const g=({queryKey:e})=>{var t;const[,{searchFilter:n,tagsFilter:s,pageToken:a,pageSize:o,sorting:r}]=e,l=null!==(t=null===r||void 0===r?void 0:r.map(e=>["order_by",`${e.id} ${e.desc?"DESC":"ASC"}`]))&&void 0!==t?t:[],d=[["max_results",String(o)],...l];return d.push(function({searchFilter:e,tagsFilter:t}){const n=[];e&&n.push(`name ILIKE '%${e}%'`);for(const s of null!==t&&void 0!==t?t:[])n.push(p(s));return n.length>0?["filter",n.join(" AND ")]:void 0}({searchFilter:n,tagsFilter:s})),a&&d.push(["page_token",a]),i.x.searchExperiments(d)},h=({searchFilter:e,tagsFilter:t}={})=>{var n,a,i,m;const p=(0,o.useRef)([]),[h,f]=(0,o.useState)(void 0),[v,x]=(0,r.Mj)({key:d,version:0,initialValue:25}),[y,_]=(0,r.Mj)({key:c,version:0,initialValue:[{id:"last_update_time",desc:!0}]});(0,o.useEffect)(()=>{f(void 0),p.current=[]},[e,t,y]);const w={options:[10,25,50,100],default:v,onChange(e){x(e),f(void 0)}},b=(0,s.I)([u,{searchFilter:e,tagsFilter:t,pageToken:h,pageSize:v,sorting:y}],{queryFn:g,retry:!1}),k=(0,o.useCallback)(()=>{var e;p.current.push(h),f(null===(e=b.data)||void 0===e?void 0:e.next_page_token)},[null===(n=b.data)||void 0===n?void 0:n.next_page_token,h]),M=(0,o.useCallback)(()=>{const e=p.current.pop();f(e)},[]);return{data:(0,o.useMemo)(()=>{var e;const t=null===(e=b.data)||void 0===e?void 0:e.experiments;if(!t)return;return[...t.filter(l.n),...t.filter(e=>!(0,l.n)(e))]},[null===(a=b.data)||void 0===a?void 0:a.experiments]),error:null!==(i=b.error)&&void 0!==i?i:void 0,isLoading:b.isLoading,hasNextPage:void 0!==(null===(m=b.data)||void 0===m?void 0:m.next_page_token),hasPreviousPage:Boolean(h),onNextPage:k,onPreviousPage:M,refetch:b.refetch,pageSizeSelect:w,sorting:y,setSorting:_}}},27042:function(e,t,n){n.d(t,{Q:function(){return b}});var s=n(68248),a=n(76118),i=n(46709),o=n(27757),r=n(79081),l=n(82716),d=n(7655),c=n(40724),u=n(884),m=n(73408);var p={name:"4zleql",styles:"display:block"};function g(e){return t=>function(e,t){const n=(0,d.A)(),{theme:c}=(0,o.u)(),u=e.props.searchValue.toLowerCase();return(0,i.useMemo)(()=>{if(!u)return e;if((0,a.sortedIndexOf)(t,u)>=0)return e;const o=/^[^,.:/=\-\s]+$/.test(u);return i.cloneElement(e,{flattenOptions:[{data:{value:u,disabled:!o,style:{color:o?c.colors.actionTertiaryTextDefault:c.colors.actionDisabledText},children:(0,m.Y)(r.T,{content:o?void 0:n.formatMessage({id:"fWEvZL",defaultMessage:", . : / - = and blank spaces are not allowed"}),componentId:"mlflow.common.components.tag-select-dropdown.add-new-tag-tooltip",side:"right",children:(0,m.FD)("span",{css:p,children:[(0,m.Y)(l.PlusIcon,{css:(0,s.AH)({marginRight:c.spacing.sm},"")}),n.formatMessage({id:"IJbauF",defaultMessage:'Add tag "{tagKey}"'},{tagKey:u})]})})},key:u,groupOption:!1},...e.props.flattenOptions]})},[t,e,u,n,c])}(t,e)}var h={name:"1d3w5wq",styles:"width:100%"};function f({allAvailableTags:e,control:t,onKeyChangeCallback:n}){const s=(0,d.A)(),[a,o]=(0,i.useState)(!1),r=(0,i.useRef)(null),{field:c,fieldState:p}=(0,u.as)({control:t,name:"key",rules:{required:{message:s.formatMessage({id:"RlBbjb",defaultMessage:"A tag key is required"}),value:!0}}});return(0,m.Y)(l.LegacySelect,{allowClear:!0,ref:r,dangerouslySetAntdProps:{showSearch:!0,dropdownRender:g(e)},css:h,placeholder:s.formatMessage({id:"8ALhnh",defaultMessage:"Type a key"}),value:c.value,defaultValue:c.value,open:a,onDropdownVisibleChange:e=>{o(e)},filterOption:(e,t)=>null===t||void 0===t?void 0:t.value.toLowerCase().includes(e.toLowerCase()),onSelect:e=>{c.onChange(e),null===n||void 0===n||n(e)},onClear:()=>{c.onChange(void 0),null===n||void 0===n||n(void 0)},validationState:p.error?"error":void 0,children:e.map(e=>(0,m.Y)(l.LegacySelect.Option,{value:e,children:e},e))})}var v=n(59281),x=n(77153);function y(e){return new Map(e.map(e=>[e.key,e]))}var _={name:"82a6rk",styles:"flex:1"},w={name:"82a6rk",styles:"flex:1"};const b=({onSuccess:e,saveTagsHandler:t,allAvailableTags:n,valueRequired:p=!1,title:g})=>{const h=(0,i.useRef)(),[b,k]=(0,i.useState)(""),{theme:C}=(0,o.u)(),[Y,S]=(0,i.useState)(new Map),[T,F]=(0,i.useState)(new Map),[I,A]=(0,i.useState)(!1),E=(0,u.mN)({defaultValues:{key:void 0,value:""}}),R=()=>A(!1),P=(0,i.useCallback)(e=>{h.current=e,S(y(e.tags||[])),F(y(e.tags||[])),E.reset(),A(!0)},[E]),D=async()=>{h.current&&(k(""),H(!0),t(h.current,Array.from(Y.values()),Array.from(T.values())).then(()=>{R(),null===e||void 0===e||e(),H(!1)}).catch(e=>{var t;H(!1),k(e instanceof x.s?null===(t=e.getUserVisibleError())||void 0===t?void 0:t.message:e.message)}))},L=(0,d.A)(),O=E.watch(),[V,H]=(0,i.useState)(!1),B=(0,i.useMemo)(()=>!(0,a.isEqual)((0,a.sortBy)(Array.from(Y.values()),"key"),(0,a.sortBy)(Array.from(T.values()),"key")),[Y,T]),N=O.key||O.value,K=B&&N;return{EditTagsModal:(0,m.FD)(r.d,{componentId:"codegen_mlflow_app_src_common_hooks_useeditkeyvaluetagsmodal.tsx_135",destroyOnClose:!0,visible:I,title:null!==g&&void 0!==g?g:(0,m.Y)(c.A,{id:"TBX+Gs",defaultMessage:"Add/Edit tags"}),onCancel:R,footer:(0,m.FD)(o.x,{children:[(0,m.Y)(o.B,{componentId:"codegen_mlflow_app_src_common_hooks_useeditkeyvaluetagsmodal.tsx_147",dangerouslyUseFocusPseudoClass:!0,onClick:R,css:(0,s.AH)({marginRight:B?0:C.spacing.sm},""),children:L.formatMessage({id:"2a/rR8",defaultMessage:"Cancel"})}),K?(0,m.Y)(M,{formValues:O,isLoading:V,onSaveTask:D}):(0,m.Y)(r.T,{content:B?void 0:L.formatMessage({id:"16onEc",defaultMessage:"Please add or remove one or more tags before saving"}),componentId:"mlflow.common.hooks.useeditkeyvaluetagsmodal.tooltip",children:(0,m.Y)(o.B,{componentId:"codegen_mlflow_app_src_common_hooks_useeditkeyvaluetagsmodal.tsx_174",dangerouslyUseFocusPseudoClass:!0,disabled:!B,loading:V,type:"primary",onClick:D,children:L.formatMessage({id:"801Xh4",defaultMessage:"Save tags"})})})]}),children:[(0,m.FD)("form",{onSubmit:E.handleSubmit(()=>{if(p&&!O.value.trim())return;const e=new Map(T);e.set(O.key,O),F(e),E.reset()}),css:(0,s.AH)({display:"flex",alignItems:"flex-end",gap:C.spacing.md},""),children:[(0,m.FD)("div",{css:(0,s.AH)({minWidth:0,display:"flex",gap:C.spacing.md,flex:1},""),children:[(0,m.FD)("div",{css:_,children:[(0,m.Y)(l.FormUI.Label,{htmlFor:"key",children:L.formatMessage({id:"crTWax",defaultMessage:"Key"})}),(0,m.Y)(f,{allAvailableTags:n||[],control:E.control,onKeyChangeCallback:e=>{var t;const n=e?T.get(e):void 0;E.setValue("value",null!==(t=null===n||void 0===n?void 0:n.value)&&void 0!==t?t:"")}})]}),(0,m.FD)("div",{css:w,children:[(0,m.Y)(l.FormUI.Label,{htmlFor:"value",children:p?L.formatMessage({id:"tHrp+A",defaultMessage:"Value"}):L.formatMessage({id:"4B8k46",defaultMessage:"Value (optional)"})}),(0,m.Y)(l.RHFControlledComponents.Input,{componentId:"codegen_mlflow_app_src_common_hooks_useeditkeyvaluetagsmodal.tsx_223",name:"value",control:E.control,"aria-label":p?L.formatMessage({id:"tHrp+A",defaultMessage:"Value"}):L.formatMessage({id:"4B8k46",defaultMessage:"Value (optional)"}),placeholder:L.formatMessage({id:"FFe+Ug",defaultMessage:"Type a value"})})]})]}),(0,m.Y)(r.T,{content:L.formatMessage({id:"tx3aAM",defaultMessage:"Add tag"}),componentId:"mlflow.common.hooks.useeditkeyvaluetagsmodal.add-tag-tooltip",children:(0,m.Y)(o.B,{componentId:"codegen_mlflow_app_src_common_hooks_useeditkeyvaluetagsmodal.tsx_248",htmlType:"submit","aria-label":L.formatMessage({id:"tx3aAM",defaultMessage:"Add tag"}),children:(0,m.Y)(l.PlusIcon,{})})})]}),b&&(0,m.Y)(l.FormUI.Message,{type:"error",message:b}),(0,m.Y)("div",{css:(0,s.AH)({display:"flex",rowGap:C.spacing.xs,flexWrap:"wrap",marginTop:C.spacing.sm},""),children:Array.from(T.values()).map(e=>(0,m.Y)(v.t,{isClosable:!0,tag:e,onClose:()=>(({key:e})=>{F(t=>(t.delete(e),new Map(t)))})(e)},e.key))})]}),showEditTagsModal:P,isLoading:V}};var k={name:"1y0ex1",styles:"max-width:400px"};function M({isLoading:e,formValues:t,onSaveTask:n}){const i=(0,d.A)(),{theme:r}=(0,o.u)(),l=`${`${(0,a.truncate)(t.key,{length:20})||"_"}`}${t.value?`:${(0,a.truncate)(t.value,{length:20})}`:""}`,c=i.formatMessage({id:"wcSVYI",defaultMessage:'Are you sure you want to save and close without adding "{tag}"'},{tag:l});return(0,m.FD)(o.aw.Root,{componentId:"codegen_mlflow_app_src_common_hooks_useeditkeyvaluetagsmodal.tsx_309",children:[(0,m.Y)(o.aw.Trigger,{asChild:!0,children:(0,m.Y)(o.B,{componentId:"codegen_mlflow_app_src_common_hooks_useeditkeyvaluetagsmodal.tsx_306",dangerouslyUseFocusPseudoClass:!0,loading:e,type:"primary",children:i.formatMessage({id:"801Xh4",defaultMessage:"Save tags"})})}),(0,m.FD)(o.aw.Content,{align:"end","aria-label":c,children:[(0,m.Y)(o.T.Paragraph,{css:k,children:c}),(0,m.Y)(o.aw.Close,{asChild:!0,children:(0,m.Y)(o.B,{componentId:"codegen_mlflow_app_src_common_hooks_useeditkeyvaluetagsmodal.tsx_316",onClick:n,children:i.formatMessage({id:"mv6CY3",defaultMessage:"Yes, save and close"})})}),(0,m.Y)(o.aw.Close,{asChild:!0,children:(0,m.Y)(o.B,{componentId:"codegen_mlflow_app_src_common_hooks_useeditkeyvaluetagsmodal.tsx_324",type:"primary",css:(0,s.AH)({marginLeft:r.spacing.sm},""),children:i.formatMessage({id:"geizp1",defaultMessage:"Cancel"})})}),(0,m.Y)(o.aw.Arrow,{})]})]})}},29452:function(e,t,n){n.d(t,{B:function(){return r}});var s=n(46709),a=n(79081),i=n(11522),o=n(73408);class r extends s.Component{constructor(...e){super(...e),this.state={isSubmitting:!1},this.formRef=s.createRef(),this.onSubmit=async()=>{this.setState({isSubmitting:!0});try{const e=await this.formRef.current.validateFields();await this.props.handleSubmit(e),this.resetAndClearModalForm(),this.onRequestCloseHandler()}catch(e){this.handleSubmitFailure(e)}},this.resetAndClearModalForm=()=>{this.setState({isSubmitting:!1}),this.formRef.current.resetFields()},this.handleSubmitFailure=e=>{this.setState({isSubmitting:!1}),i.A.logErrorAndNotifyUser(e)},this.onRequestCloseHandler=()=>{this.resetAndClearModalForm(),this.props.onClose()},this.handleCancel=()=>{var e,t;this.onRequestCloseHandler(),null===(e=(t=this.props).onCancel)||void 0===e||e.call(t)}}render(){const{isSubmitting:e}=this.state,{okText:t,cancelText:n,isOpen:i,footer:r,children:l}=this.props,d=s.Children.map(l,e=>s.isValidElement(e)?s.cloneElement(e,{innerRef:this.formRef}):e);return(0,o.Y)(a.d,{"data-testid":"mlflow-input-modal",className:this.props.className,title:this.props.title,width:540,visible:i,onOk:this.onSubmit,okText:t,cancelText:n,confirmLoading:e,onCancel:this.handleCancel,footer:r,centered:!0,children:d})}}},34783:function(e,t,n){n.r(t),n.d(t,{ExperimentListView:function(){return H},default:function(){return B}});var s=n(68248),a=n(46709),i=n(27757),o=n(79081),r=n(82716),l=(n(13479),n(60284)),d=n(60329),c=n(26158),u=n(7655),m=n(40724),p=n(60312),g=n(76842),h=n(91105),f=n(84561),v=n(5690),x=n(56530),y=n(11522),_=n(73408);const w=({isOpen:e,onClose:t,experiments:n,onExperimentsDeleted:s})=>{const a=(0,x.wA)();return(0,_.Y)(f.u,{isOpen:e,onClose:t,handleSubmit:()=>Promise.all(n.map(e=>a((0,v.lJ)(e.experimentId)))).then(s).catch(e=>y.A.logErrorAndNotifyUser(e)),title:(0,_.Y)(m.A,{id:"Epo8/i",defaultMessage:"Delete {count, plural, one {# Experiment} other {# Experiments}}",values:{count:n.length}}),helpText:(0,_.FD)("div",{children:[(0,_.Y)(i.T.Paragraph,{children:"The following experiments will be deleted:"}),(0,_.Y)(i.T.Paragraph,{children:(0,_.Y)("ul",{children:n.map(e=>(0,_.Y)("li",{children:(0,_.FD)(i.T.Text,{children:[e.name," (ID: ",e.experimentId,")"]})},e.experimentId))})})]}),confirmButtonText:(0,_.Y)(m.A,{id:"9KLNi5",defaultMessage:"Delete"}),confirmButtonProps:{danger:!0}})};var b=n(77153),k=n(61060),M=n(27042),C=n(181),Y=n(12803);const S=["IS","IS NOT","CONTAINS"];function T(e){return[e.key,e.operator,e.value].join("-")}function F(e){const t=e.split("-");if(t.length>=3&&function(e){return S.includes(e)}(t[1])){const[e,n,...s]=t;return{key:e,operator:n,value:s.join("-")}}return null}var I=n(884);const A={key:"",value:"",operator:"IS"};var E={name:"isq613",styles:"min-width:14ch"},R={name:"1eoy87d",styles:"display:flex;justify-content:space-between"};function P({tagsFilter:e,setTagsFilter:t}){const{control:n,handleSubmit:o}=(0,I.mN)({defaultValues:{tagsFilter:0===e.length?[A]:e}}),{fields:l,append:d,remove:c}=(0,I.jz)({control:n,name:"tagsFilter"}),{theme:p}=(0,i.u)(),{formatMessage:g}=(0,u.A)(),h={fontWeight:p.typography.typographyBoldFontWeight},f={key:g({id:"/k7Xvj",defaultMessage:"Key"}),operator:g({id:"JDpv0G",defaultMessage:"Operator"}),value:g({id:"OH7hV5",defaultMessage:"Value"})};return(0,_.FD)("form",{onSubmit:o(e=>t(e.tagsFilter)),css:(0,s.AH)({display:"flex",flexDirection:"column",gap:p.spacing.md,padding:p.spacing.md},""),children:[(0,_.FD)("fieldset",{css:(0,s.AH)({display:"grid",gridTemplateColumns:"repeat(4, auto)",gap:p.spacing.sm},""),children:[(0,_.Y)("label",{htmlFor:`${l[0].id}-key`,css:h,children:f.key}),(0,_.Y)("label",{htmlFor:`${l[0].id}-op`,css:h,children:f.operator}),(0,_.Y)("label",{htmlFor:`${l[0].id}-value`,css:h,children:f.value}),(0,_.Y)("label",{}),l.map((e,t)=>(0,_.FD)(a.Fragment,{children:[(0,_.Y)(r.RHFControlledComponents.Input,{id:`${e.id}-key`,componentId:"codegen_no_dynamic_mlflow_web_js_src_experiment_tracking_components_experiment_page_components_experimentlistviewtagsfilter_69",name:`tagsFilter.${t}.key`,control:n,"aria-label":f.key,placeholder:f.key,required:!0}),(0,_.Y)(r.RHFControlledComponents.LegacySelect,{id:`${e.id}-op`,name:`tagsFilter.${t}.operator`,control:n,options:S.map(e=>({key:e,value:e})),"aria-label":f.operator,css:E}),(0,_.Y)(r.RHFControlledComponents.Input,{id:`${e.id}-value`,componentId:"codegen_no_dynamic_mlflow_web_js_src_experiment_tracking_components_experiment_page_components_experimentlistviewtagsfilter_87",name:`tagsFilter.${t}.value`,control:n,"aria-label":f.value,placeholder:f.value,required:!0}),(0,_.Y)(i.B,{componentId:"codegen_no_dynamic_mlflow_web_js_src_experiment_tracking_components_experiment_page_components_experimentlistviewtagsfilter_96",type:"tertiary",onClick:()=>c(t),disabled:1===l.length,"aria-label":g({id:"l8Z2nP",defaultMessage:"Remove filter"}),children:(0,_.Y)(i.C,{})})]},e.id))]}),(0,_.FD)("div",{css:R,children:[(0,_.Y)(i.B,{componentId:"mlflow.experiment_list_view.tag_filter.add_filter_button",onClick:()=>d(A),icon:(0,_.Y)(r.PlusIcon,{}),children:(0,_.Y)(m.A,{id:"rY00Iw",defaultMessage:"Add filter"})}),(0,_.FD)("div",{css:(0,s.AH)({display:"flex",gap:p.spacing.sm},""),children:[(0,_.Y)(i.B,{componentId:"mlflow.experiment_list_view.tag_filter.clear_filters_button",onClick:()=>t([]),children:(0,_.Y)(m.A,{id:"NPlcrl",defaultMessage:"Clear filters"})}),(0,_.Y)(i.B,{htmlType:"submit",componentId:"mlflow.experiment_list_view.tag_filter.apply_filters_button",type:"primary",children:(0,_.Y)(m.A,{id:"sWbj1n",defaultMessage:"Apply filters"})})]})]})]})}var D=n(31655),L=n(34791);var O={name:"1m5f2z8",styles:"overflow:hidden;display:flex;flex-direction:column"},V={name:"xt6tct",styles:"flex:1;display:flex;flex-direction:column;overflow:hidden"};const H=()=>{const[e]=(0,h.ok)(),t=(0,D.tn)(),n=(0,L.V2)(e),[f,v]=function(){var e;const t="experimentSearchFilter",[n,s]=(0,h.ok)();return[null!==(e=n.get(t))&&void 0!==e?e:"",function(e){e?n.set(t,e):n.delete(t),s(n)}]}(),{tagsFilter:x,setTagsFilter:y,isTagsFilterOpen:S,setIsTagsFilterOpen:I}=function(){const[e,t]=(0,a.useState)(!1),n="experimentTagsFilter",[s,i]=(0,h.ok)();return{tagsFilter:(0,a.useMemo)(()=>{var e;return(null!==(e=s.getAll(n))&&void 0!==e?e:[]).map(F).filter(e=>null!==e)},[s]),setTagsFilter:function(e){s.delete(n);const a=e.filter(e=>""!==e.key&&""!==e.value);if(0!==a.length)for(const t of a)s.append(n,T(t));i(s),t(!1)},isTagsFilterOpen:e,setIsTagsFilterOpen:t}}(),{data:A,isLoading:E,error:R,hasNextPage:H,hasPreviousPage:B,onNextPage:N,onPreviousPage:K,pageSizeSelect:j,sorting:q,setSorting:$}=(0,c.f)({searchFilter:f,tagsFilter:x}),U=(0,c.M)(),{EditTagsModal:W,showEditExperimentTagsModal:z}=(({onSuccess:e})=>{const t=(0,k.n)({mutationFn:async({toAdd:e,toDelete:t,experimentId:n})=>Promise.all([...e.map(({key:e,value:t})=>Y.x.setExperimentTag({experiment_id:n,key:e,value:t})),...t.map(({key:e})=>Y.x.deleteExperimentTag({experiment_id:n,key:e}))])}),{EditTagsModal:n,showEditTagsModal:s,isLoading:i}=(0,M.Q)({valueRequired:!0,saveTagsHandler:(n,s,a)=>{const{addedOrModifiedTags:i,deletedTags:o}=(0,C.Rf)(s,a);return new Promise((s,a)=>{if(!n)return a();t.mutate({experimentId:n.experimentId,toAdd:i,toDelete:o},{onSuccess:()=>{s(),null===e||void 0===e||e()},onError:a})})}});return{EditTagsModal:n,showEditExperimentTagsModal:(0,a.useCallback)(e=>s({experimentId:e.experimentId,name:e.name,tags:e.tags.filter(e=>(0,C.oD)(e.key))}),[s]),isLoading:i}})({onSuccess:U}),[G,Z]=(0,a.useState)({}),[Q,J]=(0,a.useState)(""),[X,ee]=(0,a.useState)(!1),[te,ne]=(0,a.useState)(!1),se=()=>{ee(!0)},{theme:ae}=(0,i.u)(),ie=(0,h.Zp)(),oe=(0,u.A)(),re=Object.entries(G).filter(([e,t])=>t).map(([e,t])=>e),le=!(!E&&!R&&!(null!==A&&void 0!==A&&A.length)&&!f&&!x.length)&&(!t||null!==n);return(0,_.FD)(p.m,{css:O,children:[(0,_.Y)(o.S,{shrinks:!1}),(0,_.Y)(r.Header,{title:(0,_.FD)("span",{css:(0,s.AH)({display:"flex",alignItems:"center",gap:ae.spacing.sm},""),children:[(0,_.Y)("span",{css:(0,s.AH)({display:"flex",borderRadius:ae.borders.borderRadiusSm,backgroundColor:ae.colors.backgroundSecondary,padding:ae.spacing.sm},""),children:(0,_.Y)(r.BeakerIcon,{})}),(0,_.Y)(m.A,{id:"ZqHpEG",defaultMessage:"Experiments"})]}),buttons:le?(0,_.FD)(_.FK,{children:[(0,_.Y)(i.B,{componentId:"mlflow.experiment_list_view.new_experiment_button",type:"primary",onClick:se,"data-testid":"create-experiment-button",children:(0,_.Y)(m.A,{id:"9ut1Fj",defaultMessage:"Create"})}),(0,_.Y)(i.B,{componentId:"mlflow.experiment_list_view.compare_experiments_button",onClick:()=>{const e=l.Ay.getCompareExperimentsPageRoute(re);ie(e)},"data-testid":"compare-experiment-button",disabled:re.length<2,children:(0,_.Y)(m.A,{id:"YECxws",defaultMessage:"Compare"})}),(0,_.Y)(i.B,{componentId:"mlflow.experiment_list_view.bulk_delete_button",onClick:()=>ne(!0),"data-testid":"delete-experiments-button",disabled:re.length<1,danger:!0,children:(0,_.Y)(m.A,{id:"L/4iQO",defaultMessage:"Delete"})})]}):void 0}),(0,_.Y)(o.S,{shrinks:!1}),R&&(0,_.Y)(r.Alert,{css:(0,s.AH)({marginBlockEnd:ae.spacing.sm},""),type:"error",message:R instanceof b.s?R.getMessageField():R.message||(0,_.Y)(m.A,{id:"9Bj7oS",defaultMessage:"A network error occurred."}),componentId:"mlflow.experiment_list_view.error",closable:!1}),(0,_.FD)("div",{css:V,children:[(0,_.FD)(r.TableFilterLayout,{children:[(0,_.Y)(r.TableFilterInput,{"data-testid":"search-experiment-input",placeholder:oe.formatMessage({id:"dMKo75",defaultMessage:"Search experiments"}),componentId:"mlflow.experiment_list_view.search",defaultValue:f,onChange:e=>{J(e.target.value)},onSubmit:()=>{v(Q)},onClear:()=>{v("")},showSearchButton:!0}),(0,_.FD)(i.aw.Root,{componentId:"mlflow.experiment_list_view.tag_filter",open:S,onOpenChange:I,children:[(0,_.Y)(i.aw.Trigger,{asChild:!0,children:(0,_.Y)(i.B,{componentId:"mlflow.experiment_list_view.tag_filter.trigger",endIcon:(0,_.Y)(r.ChevronDownIcon,{}),type:x.length>0?"primary":void 0,children:(0,_.Y)(m.A,{id:"KcnW3U",defaultMessage:"Tag"})})}),(0,_.Y)(i.aw.Content,{children:(0,_.Y)(P,{tagsFilter:x,setTagsFilter:y})})]})]}),(0,_.Y)(g.k,{experiments:A,isLoading:E,isFiltered:Boolean(f),rowSelection:G,setRowSelection:Z,cursorPaginationProps:{hasNextPage:H,hasPreviousPage:B,onNextPage:N,onPreviousPage:K,pageSizeSelect:j},sortingProps:{sorting:q,setSorting:$},onEditTags:z,onCreateExperiment:se})]}),(0,_.Y)(d.D,{isOpen:X,onClose:()=>{ee(!1)},onExperimentCreated:U}),(0,_.Y)(w,{experiments:(null!==A&&void 0!==A?A:[]).filter(({experimentId:e})=>re.includes(e)),isOpen:te,onClose:()=>ne(!1),onExperimentsDeleted:()=>{U(),Z({})}}),W]})};var B=H},59281:function(e,t,n){n.d(t,{t:function(){return f}});var s=n(68248),a=n(82716),i=n(79081),o=n(27757),r=n(46709),l=n(7655),d=n(91701),c=n(73408);const{Paragraph:u}=o.T;var m={name:"zjik7",styles:"display:flex"},p={name:"1ff36h2",styles:"flex-grow:1"};const g=r.memo(e=>{const{theme:t}=(0,o.u)();return(0,c.Y)(i.d,{componentId:"codegen_mlflow_app_src_common_components_keyvaluetagfullviewmodal.tsx_17",title:"Tag: "+e.tagKey,visible:e.isKeyValueTagFullViewModalVisible,onCancel:()=>e.setIsKeyValueTagFullViewModalVisible(!1),children:(0,c.FD)("div",{css:m,children:[(0,c.Y)(u,{css:p,children:(0,c.Y)("pre",{css:(0,s.AH)({backgroundColor:t.colors.backgroundPrimary,marginTop:t.spacing.sm,whiteSpace:"pre-wrap",wordBreak:"break-all"},""),children:e.tagValue})}),(0,c.Y)("div",{css:(0,s.AH)({marginTop:t.spacing.sm},""),children:(0,c.Y)(d.i,{copyText:e.tagValue,showLabel:!1,icon:(0,c.Y)(a.CopyIcon,{}),"aria-label":"Copy"})})]})})});function h(e=!0){return e?{overflow:"hidden",textOverflow:"ellipsis",textWrap:"nowrap",whiteSpace:"nowrap"}:{whiteSpace:"nowrap"}}const f=({isClosable:e=!1,onClose:t,tag:n,enableFullViewModal:d=!1,charLimit:u=30,maxWidth:m=300,className:p})=>{const f=(0,l.A)(),[v,x]=(0,r.useState)(!1),{shouldTruncateKey:y,shouldTruncateValue:_}=function(e,t=30){const{key:n,value:s}=e,a=n.length+s.length,i=n.length>s.length,o=i?s.length:n.length;return a<=t?{shouldTruncateKey:!1,shouldTruncateValue:!1}:o>t/2?{shouldTruncateKey:!0,shouldTruncateValue:!0}:{shouldTruncateKey:i,shouldTruncateValue:!i}}(n,u),w=d&&(y||_),b=f.formatMessage({id:"ZXUtU8",defaultMessage:"Click to see more"});return(0,c.FD)("div",{children:[(0,c.Y)(a.Tag,{componentId:"codegen_mlflow_app_src_common_components_keyvaluetag.tsx_60",closable:e,onClose:t,title:n.key,className:p,children:(0,c.Y)(i.T,{content:w?b:"",componentId:"mlflow.common.components.key-value-tag.tooltip",children:(0,c.FD)("span",{css:(0,s.AH)({maxWidth:m,display:"inline-flex"},""),onClick:()=>w?x(!0):void 0,children:[(0,c.Y)(o.T.Text,{bold:!0,title:n.key,css:h(y),children:n.key}),n.value&&(0,c.FD)(o.T.Text,{title:n.value,css:h(_),children:[": ",n.value]})]})})}),(0,c.Y)("div",{children:v&&(0,c.Y)(g,{tagKey:n.key,tagValue:n.value,isKeyValueTagFullViewModalVisible:v,setIsKeyValueTagFullViewModalVisible:x})})]})}},60312:function(e,t,n){n.d(t,{m:function(){return o}});var s=n(82716),a=n(73408);var i={name:"13udsys",styles:"height:100%"};const o=({children:e,className:t})=>(0,a.Y)(s.PageWrapper,{css:i,className:t,children:e})},60329:function(e,t,n){n.d(t,{D:function(){return C}});var s=n(46709),a=n(56530),i=n(49356),o=n.n(i),r=n(60284),l=n(29452),d=n(84173),c=n(82716),u=n(66916),m=n(31655),p=n(73408);const g="experimentName",h="artifactLocation";class f extends s.Component{render(){const e=(0,m.tn)();return(0,p.FD)(c.LegacyForm,{ref:this.props.innerRef,layout:"vertical",children:[(0,p.Y)(c.LegacyForm.Item,{label:this.props.intl.formatMessage({id:"eyGoqW",defaultMessage:"Experiment Name"}),name:g,rules:[{required:!0,message:this.props.intl.formatMessage({id:"okQ1oB",defaultMessage:"Please input a new name for the new experiment."})},{validator:this.props.validator}],children:(0,p.Y)(u.I,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_modals_createexperimentform.tsx_51",placeholder:this.props.intl.formatMessage({id:"FZubuU",defaultMessage:"Input an experiment name"}),autoFocus:!0})}),!e&&(0,p.Y)(c.LegacyForm.Item,{name:h,label:this.props.intl.formatMessage({id:"meoYKZ",defaultMessage:"Artifact Location"}),rules:[{required:!1}],children:(0,p.Y)(u.I,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_modals_createexperimentform.tsx_71",placeholder:this.props.intl.formatMessage({id:"WvHAEg",defaultMessage:"Input an artifact location (optional)"})})})]})}}const v=(0,d.Ay)(f);var x=n(64080),y=n(5690),_=n(40072),w=n(2560);class b extends s.Component{constructor(...e){super(...e),this.handleCreateExperiment=async e=>{const t=e[g],n=e[h],s=await this.props.createExperimentApi(t,n);this.props.onExperimentCreated();const{value:{experiment_id:a}}=s;a&&this.props.navigate(r.Ay.getExperimentPageRoute(a))},this.debouncedExperimentNameValidator=o()((0,x.J)(()=>this.props.experimentNames),400)}render(){const{isOpen:e}=this.props;return(0,p.Y)(l.B,{title:"Create Experiment",okText:"Create",isOpen:e,handleSubmit:this.handleCreateExperiment,onClose:this.props.onClose,children:(0,p.Y)(v,{validator:this.debouncedExperimentNameValidator})})}}const k={createExperimentApi:y.Gh},M=(0,a.Ng)(e=>({experimentNames:(0,_.DZ)(e).map(e=>e.name)}),k)(b),C=(0,w.h)(M)},61060:function(e,t,n){n.d(t,{n:function(){return m}});var s=n(46709),a=n(48667),i=n(56606),o=n(78922),r=n(27949),l=n(4200);class d extends l.Q{constructor(e,t){super(),this.client=e,this.setOptions(t),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var t;const n=this.options;this.options=this.client.defaultMutationOptions(e),(0,i.f8)(n,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),null==(t=this.currentMutation)||t.setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(null==(e=this.currentMutation)||e.removeObserver(this))}onMutationUpdate(e){this.updateResult();const t={listeners:!0};"success"===e.type?t.onSuccess=!0:"error"===e.type&&(t.onError=!0),this.notify(t)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(e,t){return this.mutateOptions=t,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:"undefined"!==typeof e?e:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const e=this.currentMutation?this.currentMutation.state:(0,o.$)(),t={...e,isLoading:"loading"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset};this.currentResult=t}notify(e){r.j.batch(()=>{var t,n,s,a;if(this.mutateOptions&&this.hasListeners())if(e.onSuccess)null==(t=(n=this.mutateOptions).onSuccess)||t.call(n,this.currentResult.data,this.currentResult.variables,this.currentResult.context),null==(s=(a=this.mutateOptions).onSettled)||s.call(a,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context);else if(e.onError){var i,o,r,l;null==(i=(o=this.mutateOptions).onError)||i.call(o,this.currentResult.error,this.currentResult.variables,this.currentResult.context),null==(r=(l=this.mutateOptions).onSettled)||r.call(l,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}e.listeners&&this.listeners.forEach(({listener:e})=>{e(this.currentResult)})})}}var c=n(39595),u=n(56154);function m(e,t,n){const o=(0,i.GR)(e,t,n),l=(0,c.jE)({context:o.context}),[m]=s.useState(()=>new d(l,o));s.useEffect(()=>{m.setOptions(o)},[m,o]);const g=(0,a.r)(s.useCallback(e=>m.subscribe(r.j.batchCalls(e)),[m]),()=>m.getCurrentResult(),()=>m.getCurrentResult()),h=s.useCallback((e,t)=>{m.mutate(e,t).catch(p)},[m]);if(g.error&&(0,u.G)(m.options.useErrorBoundary,[g.error]))throw g.error;return{...g,mutate:h,mutateAsync:g.mutate}}function p(){}},63776:function(e,t,n){n.d(t,{n:function(){return s}});const s=e=>{var t,n;return null!==(t=null===(n=e.tags)||void 0===n?void 0:n.some(({key:e})=>e.startsWith("mlflow.demo.version.")))&&void 0!==t&&t}},64080:function(e,t,n){n.d(t,{J:function(){return i},N:function(){return o}});var s=n(12803),a=n(43748);const i=e=>(t,n,a)=>{n?e().includes(n)?a(`Experiment "${n}" already exists.`):s.x.getExperimentByName({experiment_name:n}).then(e=>a(`Experiment "${n}" already exists in deleted state.\n                                 You can restore the experiment, or permanently delete the\n                                 experiment from the .trash folder (under tracking server's\n                                 root folder) in order to use this experiment name again.`)).catch(e=>a(void 0)):a(void 0)},o=(e,t,n)=>{t?a.x.getRegisteredModel({name:t}).then(()=>n(`Model "${t}" already exists.`)).catch(e=>n(void 0)):n(void 0)}},76256:function(e,t,n){n.d(t,{L:function(){return a},S:function(){return i}});var s=n(43617);function a(e,t){return(0,s.N4)(t)}const i=s.N4},76842:function(e,t,n){n.d(t,{k:function(){return S}});var s=n(68248),a=n(76256),i=n(46709),o=n(82716),r=n(27757),l=n(79081),d=(n(13479),n(90061)),c=n(43617),u=n(76118),m=n(7655),p=n(40724),g=n(11522),h=n(91105),f=n(60284),v=n(59281),x=n(181),y=n(73408);var _={name:"zjik7",styles:"display:flex"},w={name:"tyk0n8",styles:"overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:flex"},b={name:"14cnl6e",styles:"flex-shrink:0;opacity:0;[role=row]:hover &{opacity:1;}[role=row]:focus-within &{opacity:1;}"};const k=({row:{original:e},table:{options:{meta:t}}})=>{var n;const s=(0,m.A)(),{onEditTags:a}=t,i=(null===e||void 0===e||null===(n=e.tags)||void 0===n?void 0:n.filter(e=>(0,x.oD)(e.key)))||[],l=i.length>0;return(0,y.FD)("div",{css:_,children:[(0,y.Y)("div",{css:w,children:null===i||void 0===i?void 0:i.map(e=>(0,y.Y)(v.t,{tag:e},e.key))}),(0,y.Y)(r.B,{componentId:"mlflow.experiment.list.tag.add",size:"small",icon:l?(0,y.Y)(o.PencilIcon,{}):void 0,onClick:()=>null===a||void 0===a?void 0:a(e),"aria-label":s.formatMessage({id:"Vk+30L",defaultMessage:"Edit tags"}),css:b,type:"tertiary",children:l?void 0:(0,y.Y)(p.A,{id:"cI0kqF",defaultMessage:"Add tags"})})]})};var M=n(63776);var C={name:"kbcyu6",styles:"display:flex;align-items:center;justify-content:center;min-height:400px"},Y={name:"kbcyu6",styles:"display:flex;align-items:center;justify-content:center;min-height:400px"};const S=({experiments:e,isFiltered:t,isLoading:n,rowSelection:l,setRowSelection:h,cursorPaginationProps:f,sortingProps:{sorting:v,setSorting:x},onEditTags:_,onCreateExperiment:w})=>{const{theme:b}=(0,r.u)(),M=(()=>{const e=(0,m.A)();return(0,i.useMemo)(()=>[{header:({table:e})=>(0,y.Y)(o.Checkbox,{componentId:"mlflow.experiment_list_view.check_all_box",isChecked:e.getIsSomeRowsSelected()?null:e.getIsAllRowsSelected(),onChange:(t,n)=>e.getToggleAllRowsSelectedHandler()(n)}),id:"select",cell:R,enableSorting:!1},{header:e.formatMessage({id:"QhEnTA",defaultMessage:"Name"}),accessorKey:"name",id:"name",cell:E,enableSorting:!0},{header:e.formatMessage({id:"JUTcIz",defaultMessage:"Time created"}),id:"creation_time",accessorFn:({creationTime:t})=>g.A.formatTimestamp(t,e),enableSorting:!0},{header:e.formatMessage({id:"l/+0SR",defaultMessage:"Last modified"}),id:"last_update_time",accessorFn:({lastUpdateTime:t})=>g.A.formatTimestamp(t,e),enableSorting:!0},{header:e.formatMessage({id:"STEhnv",defaultMessage:"Description"}),id:"description",accessorFn:({tags:e})=>{var t,n;return null!==(t=null===e||void 0===e||null===(n=e.find(({key:e})=>"mlflow.note.content"===e))||void 0===n?void 0:n.value)&&void 0!==t?t:"-"},enableSorting:!1},{header:e.formatMessage({id:"BB6In/",defaultMessage:"Tags"}),id:"tags",accessorKey:"tags",enableSorting:!1,cell:k}],[e])})(),S=(0,a.L)("mlflow/server/js/src/experiment-tracking/components/ExperimentListTable.tsx",{data:null!==e&&void 0!==e?e:[],columns:M,getCoreRowModel:(0,d.HT)(),getRowId:e=>e.experimentId,enableRowSelection:!0,enableMultiRowSelection:!0,onRowSelectionChange:h,onSortingChange:x,state:{rowSelection:l,sorting:v},meta:{onEditTags:_}}),T={flex:"none",height:b.general.heightBase};return(0,y.FD)(o.Table,{scrollable:!0,pagination:f?(0,y.Y)(o.CursorPagination,{...f,componentId:"mlflow.experiment_list_view.pagination"}):void 0,empty:(()=>{const s=!n&&(0,u.isEmpty)(e);return s&&t?(0,y.Y)("div",{css:C,children:(0,y.Y)(o.Empty,{image:(0,y.Y)(o.NoIcon,{}),title:(0,y.Y)(p.A,{id:"QRnRh3",defaultMessage:"No experiments found"}),description:null})}):s?(0,y.Y)("div",{css:Y,children:(0,y.Y)(o.Empty,{image:(0,y.Y)(o.BeakerIcon,{}),title:(0,y.Y)(p.A,{id:"VTePPP",defaultMessage:"Create your first experiment"}),description:(0,y.Y)(p.A,{id:"HcY5MF",defaultMessage:"Create your first experiment to start tracking ML workflows."}),button:w?(0,y.Y)(r.B,{componentId:"mlflow.experiment_list_table.create_experiment","data-testid":"create-experiment-table-empty-state-button",onClick:w,type:"primary",icon:(0,y.Y)(o.PlusIcon,{}),children:(0,y.Y)(p.A,{id:"GyGCX5",defaultMessage:"Create experiment"})}):void 0})}):null})(),children:[(0,y.Y)(o.TableRow,{isHeader:!0,children:S.getLeafHeaders().map(e=>(0,y.Y)(o.TableHeader,{componentId:"mlflow.experiment_list_view.table.header",css:"select"===e.column.id?T:void 0,sortable:e.column.getCanSort(),sortDirection:e.column.getIsSorted()||"none",onToggleSort:e.column.getToggleSortingHandler(),children:(0,c.Kv)(e.column.columnDef.header,e.getContext())},e.id))}),n?(0,y.Y)(o.TableSkeletonRows,{table:S}):S.getRowModel().rows.map(e=>(0,y.Y)(o.TableRow,{css:(0,s.AH)({height:b.general.buttonHeight},""),"data-testid":"experiment-list-item",children:e.getAllCells().map(e=>(0,y.Y)(o.TableCell,{css:(0,s.AH)({alignItems:"center",..."select"===e.column.id?T:void 0},""),children:(0,c.Kv)(e.column.columnDef.cell,e.getContext())},e.id))},e.id))]})};var T={name:"1j5vobt",styles:"display:flex;align-items:center;gap:4px"},F={name:"g65o95",styles:"text-decoration:none"},I={name:"vh5nmu",styles:"font-size:13px"},A={name:"1d4xjjz",styles:"white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex:1"};const E=({row:{original:e}})=>{const{theme:t}=(0,r.u)();return(0,M.n)(e)?(0,y.FD)("div",{css:T,children:[(0,y.Y)(h.N_,{to:f.Ay.getExperimentPageRoute(e.experimentId),title:e.name,"data-testid":"experiment-list-item-link",css:F,children:(0,y.Y)(o.Tag,{componentId:"mlflow.experiment_list.demo_badge",color:"turquoise",children:(0,y.Y)(p.A,{id:"ot8KVZ",defaultMessage:"MLflow Demo Experiment"})})}),(0,y.Y)(l.T,{componentId:"mlflow.experiment_list.demo_tooltip",content:(0,y.Y)(p.A,{id:"ba7/ni",defaultMessage:"A demo experiment to quickly explore MLflow's core features with sample pre-generated data. You can clean up demo resources from Settings."}),children:(0,y.Y)("span",{css:(0,s.AH)({display:"inline-flex",color:t.colors.textSecondary},""),children:(0,y.Y)(o.QuestionMarkIcon,{css:I})})})]}):(0,y.Y)(h.N_,{className:"experiment-link",css:A,to:f.Ay.getExperimentPageRoute(e.experimentId),title:e.name,"data-testid":"experiment-list-item-link",children:e.name})},R=({row:e})=>(0,y.Y)(o.Checkbox,{componentId:"mlflow.experiment_list_view.check_box",id:e.original.experimentId,"data-testid":"experiment-list-item-check-box",isChecked:e.getIsSelected(),disabled:!e.getCanSelect(),onChange:e.getToggleSelectedHandler()},e.original.experimentId)},84561:function(e,t,n){n.d(t,{u:function(){return o}});var s=n(46709),a=n(79081),i=n(73408);class o extends s.Component{constructor(e){super(e),this.state={isSubmitting:!1},this.onRequestCloseHandler=this.onRequestCloseHandler.bind(this),this.handleSubmitWrapper=this.handleSubmitWrapper.bind(this)}onRequestCloseHandler(){this.state.isSubmitting||this.props.onClose()}handleSubmitWrapper(){return this.setState({isSubmitting:!0}),this.props.handleSubmit().finally(()=>{this.props.onClose(),this.setState({isSubmitting:!1})})}render(){return(0,i.Y)(a.d,{"data-testid":"confirm-modal",title:this.props.title,visible:this.props.isOpen,onOk:this.handleSubmitWrapper,okText:this.props.confirmButtonText,okButtonProps:this.props.confirmButtonProps,confirmLoading:this.state.isSubmitting,onCancel:this.onRequestCloseHandler,centered:!0,children:(0,i.Y)("div",{className:"modal-explanatory-text",children:this.props.helpText})})}}}}]);