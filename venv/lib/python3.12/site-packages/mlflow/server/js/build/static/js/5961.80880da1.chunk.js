"use strict";(self.webpackChunk_mlflow_mlflow=self.webpackChunk_mlflow_mlflow||[]).push([[5961],{8750:function(e,l,o){o.d(l,{s:function(){return r}});var n=o(46709),i=o(76118),t=o(60062),d=o(12803);const a=e=>["USE_RELATED_RUNS_DATA_FOR_LOGGED_MODELS",{runUuid:e}],s=async({queryKey:[,{runUuid:e}]})=>{try{const l=await d.x.getRun({run_id:e});return null===l||void 0===l?void 0:l.run}catch(l){return null}},r=({loggedModels:e=[]})=>{var l;const o=(0,n.useMemo)(()=>{const l=(0,i.compact)(null===e||void 0===e?void 0:e.flatMap(e=>{var l,o;return null===e||void 0===e||null===(l=e.data)||void 0===l||null===(o=l.metrics)||void 0===o?void 0:o.map(e=>e.run_id)})),o=(0,i.compact)(null===e||void 0===e?void 0:e.map(e=>{var l;return null===e||void 0===e||null===(l=e.info)||void 0===l?void 0:l.source_run_id}));return(0,i.sortBy)((0,i.uniq)([...l,...o]))},[e]),d=(0,t.E)({queries:o.map(e=>({queryKey:a(e),queryFn:s,cacheTime:1/0,staleTime:1/0,refetchOnWindowFocus:!1,retry:!1}))}),r=d.some(({isLoading:e})=>e),u=null===(l=d.find(({error:e})=>e))||void 0===l?void 0:l.error,c=function(e){const l=(0,n.useRef)(),o=!(!l.current||e.length!==l.current.length)&&e.every((e,o)=>{var n;return e===(null===(n=l.current)||void 0===n?void 0:n[o])});return o||(l.current=e),o&&l.current?l.current:e}(d.map(({data:e})=>e));return{data:(0,n.useMemo)(()=>c.map(e=>e).filter(Boolean),[c]),loading:r,error:u}}},10165:function(e,l,o){o.d(l,{h:function(){return c}});var n,i,t,d,a,s=o(46709);function r(){return r=Object.assign?Object.assign.bind():function(e){for(var l=1;l<arguments.length;l++){var o=arguments[l];for(var n in o)({}).hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},r.apply(null,arguments)}function u({title:e,titleId:l,...o},u){return s.createElement("svg",r({width:19,height:16,viewBox:"0 0 19 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:u,"aria-labelledby":l},o),e?s.createElement("title",{id:l},e):null,s.createElement("g",{clipPath:"url(#clip0_0_3)"},s.createElement("mask",{id:"mask0_0_3",style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:0,y:0,width:16,height:16},n||(n=s.createElement("path",{d:"M16 0H0V16H16V0Z",fill:"white"}))),i||(i=s.createElement("g",{mask:"url(#mask0_0_3)"},s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.75 3.49999C2.05964 3.49999 1.5 4.05963 1.5 4.74999C1.5 5.44034 2.05964 5.99999 2.75 5.99999C3.44036 5.99999 4 5.44034 4 4.74999C4 4.05963 3.44036 3.49999 2.75 3.49999ZM0 4.74999C0 3.2312 1.23122 1.99999 2.75 1.99999C3.77682 1.99999 4.6722 2.56276 5.14452 3.39669L9.51655 2.44626C9.66772 1.0704 10.8338 0 12.25 0C13.7688 0 15 1.23122 15 2.75C15 3.87686 14.3222 4.84541 13.3521 5.27025L13.6341 7.52661C14.9711 7.71349 16 8.86158 16 10.25C16 11.7688 14.7687 13 13.25 13C12.3895 13 11.6214 12.6048 11.1172 11.9861L8.49749 13.1322C8.49913 13.1713 8.49997 13.2105 8.49997 13.25C8.49996 14.7688 7.26875 16 5.74997 16C4.23118 16 2.99997 14.7688 2.99996 13.25C2.99997 12.3569 3.42568 11.5633 4.08524 11.0609L3.01322 7.48755C2.92659 7.49578 2.83878 7.49999 2.75 7.49999C1.23122 7.49999 0 6.26877 0 4.74999ZM5.46534 5.18782C5.48277 5.07884 5.4938 4.96773 5.49804 4.85488L9.76409 3.92748C10.1528 4.74671 10.9346 5.34321 11.8658 5.47338L12.1478 7.72974C11.7709 7.89483 11.438 8.14204 11.1719 8.44873L5.46534 5.18782ZM4.82802 6.55126C4.70399 6.69422 4.56546 6.82424 4.41471 6.93906L5.48674 10.5124C5.57337 10.5042 5.66118 10.5 5.74997 10.5C6.69483 10.5 7.52839 10.9765 8.02345 11.7023L10.5231 10.6087C10.5079 10.4913 10.5 10.3716 10.5 10.25C10.5 10.101 10.5118 9.95475 10.5346 9.81218L4.82802 6.55126ZM12 10.25C12 9.55963 12.5596 8.99999 13.25 8.99999C13.9403 8.99999 14.5 9.55963 14.5 10.25C14.5 10.9403 13.9403 11.5 13.25 11.5C12.5596 11.5 12 10.9403 12 10.25ZM5.74997 12C5.05961 12 4.49997 12.5596 4.49997 13.25C4.49997 13.9403 5.05961 14.5 5.74997 14.5C6.44032 14.5 6.99997 13.9403 6.99997 13.25C6.99997 12.5596 6.44032 12 5.74997 12ZM11 2.75C11 2.05964 11.5596 1.5 12.25 1.5C12.9403 1.5 13.5 2.05964 13.5 2.75C13.5 3.44036 12.9403 4 12.25 4C11.5596 4 11 3.44036 11 2.75Z",fill:"currentColor"}))),t||(t=s.createElement("path",{d:"M13.5 14C15.433 14 17 12.433 17 10.5C17 8.567 15.433 7 13.5 7C11.567 7 10 8.567 10 10.5C10 12.433 11.567 14 13.5 14Z",fill:"white"})),d||(d=s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.125 11C11.125 9.41218 12.4122 8.125 14 8.125C15.5878 8.125 16.875 9.41218 16.875 11C16.875 12.5878 15.5878 13.875 14 13.875C12.4122 13.875 11.125 12.5878 11.125 11ZM14 6.625C11.5838 6.625 9.625 8.58375 9.625 11C9.625 13.4162 11.5838 15.375 14 15.375C16.4162 15.375 18.375 13.4162 18.375 11C18.375 8.58375 16.4162 6.625 14 6.625ZM14.0303 12.5303L16.0303 10.5303L14.9697 9.46967L13.5 10.9393L13.0303 10.4697L11.9697 11.5303L12.9697 12.5303L13.5 13.0607L14.0303 12.5303Z",fill:"#3BA65E"}))),a||(a=s.createElement("defs",null,s.createElement("clipPath",{id:"clip0_0_3"},s.createElement("rect",{width:19,height:16,fill:"white"})))))}const c=s.forwardRef(u);o.p},20980:function(e,l,o){o.d(l,{b:function(){return r}});var n=o(46709),i=o(60062),t=o(91105),d=o(96980);const a=(e,l)=>`/explore/data/models/${e.replace(/\./g,"/")}/version/${l}`,s=(e,l)=>(0,t.Oz)(`/models/${e}/versions/${l}`),r=({loggedModels:e,checkAcl:l=!1})=>{const{modelVersions:o,ucModels:t}=(0,n.useMemo)(()=>{const l=e.flatMap(e=>{var l;const o=null!==(l=(e=>{try{var l,o,n;const i=null===(l=e.info)||void 0===l||null===(o=l.tags)||void 0===o||null===(n=o.find(e=>"mlflow.modelVersions"===e.key))||void 0===n?void 0:n.value;if(i)return JSON.parse(i)}catch(i){return null}return null})(e))&&void 0!==l?l:[];return o.map(l=>{const o=(0,d.f)(l.name)?a:s;return{displayedName:l.name,version:l.version,link:o(l.name,l.version),source:null,status:null,sourceLoggedModel:e}})}),o=l.filter(e=>e.displayedName&&(0,d.f)(e.displayedName));return{modelVersions:l,ucModels:o}},[e]),{aclResults:r,isLoading:u}=((e,l)=>{const o=(0,n.useMemo)(()=>(l&&e.length,[]),[e,l]),t=(0,i.E)({queries:o}),{aclResults:d,isLoading:a}=(0,n.useMemo)(()=>l&&0!==e.length?{aclResults:{},isLoading:t.some(e=>e.isLoading)}:{aclResults:{},isLoading:!1},[t,l,e.length]);return{aclResults:d,isLoading:a}})(t,l);return{modelVersions:(0,n.useMemo)(()=>o.map(e=>{const o=e.displayedName,n=o&&(0,d.f)(o);let i=!0;var t;l&&n&&o&&(i=null!==(t=r[`${o}:${e.version}`])&&void 0!==t&&t);return{...e,hasAccess:i}}),[o,l,r]),isLoading:u}}},24456:function(e,l,o){o.r(l),o.d(l,{default:function(){return Ve}});var n=o(68248),i=o(27757),t=o(82716),d=o(79081),a=o(59930),s=o.n(a),r=o(91105),u=o(7655),c=o(40724),g=o(60284),m=o(10536),v=o(43835),f=o(46709),p=o(77153),h=o(19112),M=o(91701),y=o(65765),Y=o(44105);const C=e=>(0,f.useCallback)(async()=>{var l,n,i,t;if(null===e||void 0===e||null===(l=e.info)||void 0===l||!l.model_id||null===e||void 0===e||null===(n=e.info)||void 0===n||!n.artifact_uri)return!0;const d=(0,y.qk)(Y.eh,e.info.model_id),a=await(0,y.UQ)(d),s=(await Promise.resolve().then(o.t.bind(o,80511,23))).load(await a.text());return void 0!==(null===s||void 0===s||null===(i=s.signature)||void 0===i?void 0:i.inputs)&&void 0!==(null===s||void 0===s||null===(t=s.signature)||void 0===t?void 0:t.outputs)},[e]);var w=o(11522),x=o(73408);const _=({loggedModel:e,onSuccess:l})=>{var o;const n=(0,u.A)(),i=(0,f.useCallback)(e=>{var o,i;null===l||void 0===l||l();const t=n.formatMessage({id:"UwpML4",defaultMessage:"Model registered successfully"});w.A.displayGlobalInfoNotification(`${t} ${null!==(o=null===e||void 0===e||null===(i=e.value)||void 0===i?void 0:i.status)&&void 0!==o?o:""}`)},[n,l]),t=(0,f.useCallback)(e=>{var l;const o=n.formatMessage({id:"0Rao9q",defaultMessage:"Error registering model"}),i=null!==(l=e instanceof p.s?e.getMessageField():null===e||void 0===e?void 0:e.message)&&void 0!==l?l:String(e);w.A.displayGlobalErrorNotification(`${o} ${i}`)},[n]);C(e);return null!==e&&void 0!==e&&null!==(o=e.info)&&void 0!==o&&o.artifact_uri&&e.info.model_id?(0,x.Y)(v.vR,{modelPath:e.info.artifact_uri,modelRelativePath:"",disabled:!1,loggedModelId:e.info.model_id,buttonType:"primary",showButton:!0,onRegisterSuccess:i,onRegisterFailure:t}):null};var b=o(61060),R=o(61077);const A=()=>(0,x.FD)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[(0,x.Y)("path",{d:"M10 1H3C2.44772 1 2 1.44772 2 2V14C2 14.5523 2.44772 15 3 15H6M10 1L11.8204 2.69904M10 1L13.8051 4.55138C13.9294 4.66744 14 4.82991 14 5V5",stroke:"#5F7281",strokeWidth:"1.5",strokeLinecap:"round"}),(0,x.Y)("path",{d:"M9 1V4C9 4.55228 9.44772 5 10 5H14",stroke:"#5F7281",strokeWidth:"1.5",strokeLinecap:"round"}),(0,x.Y)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.54688 8.46874C7.15855 8.46874 6.84375 8.78354 6.84375 9.17186C6.84375 9.56019 7.15855 9.87499 7.54688 9.87499C7.9352 9.87499 8.25001 9.56019 8.25001 9.17186C8.25001 8.78354 7.9352 8.46874 7.54688 8.46874ZM6 9.17186C6 8.31755 6.69256 7.62499 7.54688 7.62499C8.12447 7.62499 8.62812 7.94155 8.8938 8.41063L11.3531 7.87602C11.4381 7.10209 12.0941 6.49999 12.8906 6.49999C13.7449 6.49999 14.4375 7.19255 14.4375 8.04687C14.4375 8.68073 14.0563 9.22554 13.5106 9.46451L13.6692 10.7337C14.4212 10.8388 15 11.4846 15 12.2656C15 13.1199 14.3074 13.8125 13.4531 13.8125C12.9691 13.8125 12.5371 13.5902 12.2534 13.2422L10.7798 13.8869C10.7808 13.9088 10.7812 13.9309 10.7812 13.9531C10.7812 14.8074 10.0887 15.5 9.23436 15.5C8.38005 15.5 7.68748 14.8074 7.68748 13.9531C7.68748 13.4508 7.92695 13.0043 8.29795 12.7218L7.69494 10.7117C7.64621 10.7164 7.59682 10.7187 7.54688 10.7187C6.69256 10.7187 6 10.0262 6 9.17186ZM9.07426 9.41814C9.08407 9.35684 9.09027 9.29434 9.09265 9.23086L11.4923 8.7092C11.711 9.17002 12.1507 9.50555 12.6745 9.57877L12.8332 10.848C12.6211 10.9408 12.4339 11.0799 12.2842 11.2524L9.07426 9.41814ZM8.71576 10.1851C8.646 10.2655 8.56808 10.3386 8.48328 10.4032L9.0863 12.4132C9.13503 12.4086 9.18442 12.4062 9.23436 12.4062C9.76585 12.4062 10.2347 12.6743 10.5132 13.0826L11.9193 12.4674C11.9107 12.4014 11.9062 12.334 11.9062 12.2656C11.9062 12.1818 11.9129 12.0995 11.9257 12.0193L8.71576 10.1851ZM12.75 12.2656C12.75 11.8773 13.0648 11.5625 13.4531 11.5625C13.8414 11.5625 14.1562 11.8773 14.1562 12.2656C14.1562 12.6539 13.8414 12.9687 13.4531 12.9687C13.0648 12.9687 12.75 12.6539 12.75 12.2656ZM9.23436 13.25C8.84604 13.25 8.53124 13.5648 8.53124 13.9531C8.53124 14.3414 8.84604 14.6562 9.23436 14.6562C9.62269 14.6562 9.93749 14.3414 9.93749 13.9531C9.93749 13.5648 9.62269 13.25 9.23436 13.25ZM12.1875 8.04687C12.1875 7.65854 12.5023 7.34374 12.8906 7.34374C13.2789 7.34374 13.5938 7.65854 13.5938 8.04687C13.5938 8.43519 13.2789 8.74999 12.8906 8.74999C12.5023 8.74999 12.1875 8.43519 12.1875 8.04687Z",fill:"#5F7281",stroke:"#5F7281",strokeWidth:"0.5"})]});var I=o(76118),L=o(20980);var D={name:"ozd7xs",styles:"flex-shrink:0"},k={name:"1wcfv52",styles:"margin-right:0"};const S=({experimentId:e,experiment:l,loading:o=!1,loggedModel:a,onSuccess:s})=>{var v;const{theme:p}=(0,i.u)(),h=null===a||void 0===a||null===(v=a.info)||void 0===v?void 0:v.name,M=(0,r.Zp)(),y=(0,u.A)(),{modalElement:C,openModal:w}=(({loggedModel:e,onSuccess:l})=>{var o;const[n,i]=(0,f.useState)(!1),a=(0,b.n)({mutationFn:async({loggedModelId:e})=>{await(0,R.ff)((0,R.we)(`ajax-api/2.0/mlflow/logged-models/${e}`),{method:"DELETE"})}}),{mutate:s,isLoading:r,reset:u}=a;return{modalElement:(0,x.FD)(d.d,{componentId:"mlflow.logged_model.details.delete_modal",visible:n,onCancel:()=>i(!1),title:(0,x.Y)(c.A,{id:"0IVF6w",defaultMessage:"Delete logged model"}),okText:(0,x.Y)(c.A,{id:"Wm6dYs",defaultMessage:"Delete"}),okButtonProps:{danger:!0,loading:r},onOk:async()=>{var o;null!==e&&void 0!==e&&null!==(o=e.info)&&void 0!==o&&o.model_id?s({loggedModelId:e.info.model_id},{onSuccess:()=>{null===l||void 0===l||l(),i(!1)}}):i(!1)},cancelText:(0,x.Y)(c.A,{id:"6vII7y",defaultMessage:"Cancel"}),children:[(null===(o=a.error)||void 0===o?void 0:o.message)&&(0,x.FD)(x.FK,{children:[(0,x.Y)(t.Alert,{componentId:"mlflow.logged_model.details.delete_modal.error",closable:!1,message:a.error.message,type:"error"}),(0,x.Y)(d.S,{})]}),(0,x.Y)(c.A,{id:"AzdZPn",defaultMessage:"Are you sure you want to delete this logged model?"})]}),openModal:(0,f.useCallback)(()=>{u(),i(!0)},[u])}})({loggedModel:a,onSuccess:()=>{M(g.Ay.getExperimentPageTabRoute(e,Y.fM.Models))}}),{modelVersions:A}=(0,L.b)({loggedModels:a?[a]:[]}),S=(0,I.isEmpty)(A),T=[(0,x.Y)(r.N_,{to:g.Ay.getExperimentPageTabRoute(e,Y.fM.Models),children:l&&"name"in l?null===l||void 0===l?void 0:l.name:e}),(0,x.Y)(r.N_,{to:g.Ay.getExperimentPageTabRoute(e,Y.fM.Models),children:(0,x.Y)(c.A,{id:"Uue10g",defaultMessage:"Models"})})];return(0,x.FD)("div",{css:D,children:[o?(0,x.Y)(N,{}):(0,x.FD)(m.z,{title:S?(0,x.FD)("div",{css:(0,n.AH)({display:"flex",gap:p.spacing.sm,alignItems:"center",justifyContent:"flex-start"},""),children:[(0,x.Y)(E,{}),(0,x.Y)("span",{children:h}),(0,x.Y)(t.Tag,{color:"brown",componentId:"mlflow.logged_model.details.not_registered_tag",css:k,children:y.formatMessage({id:"LKH6uO",defaultMessage:"Not registered"})})]}):(0,x.FD)("div",{css:(0,n.AH)({display:"flex",alignItems:"center",gap:p.spacing.sm},""),children:[(0,x.Y)(E,{}),(0,x.Y)("span",{children:h})]}),dangerouslyAppendEmotionCSS:{h2:{display:"flex",gap:p.spacing.sm},wordBreak:"break-word"},breadcrumbs:T,children:[(0,x.FD)(t.DropdownMenu.Root,{children:[(0,x.Y)(t.DropdownMenu.Trigger,{asChild:!0,children:(0,x.Y)(i.B,{componentId:"mlflow.logged_model.details.more_actions",icon:(0,x.Y)(t.OverflowIcon,{}),"aria-label":y.formatMessage({id:"uB7rmB",defaultMessage:"More actions"})})}),(0,x.Y)(t.DropdownMenu.Content,{align:"end",children:(0,x.Y)(t.DropdownMenu.Item,{componentId:"mlflow.logged_model.details.delete_button",onClick:w,children:(0,x.Y)(c.A,{id:"U+2XCK",defaultMessage:"Delete"})})})]}),(0,x.Y)(_,{loggedModel:a,onSuccess:s})]}),C]})},E=()=>{const{theme:e}=(0,i.u)();return(0,x.Y)("div",{css:(0,n.AH)({display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:e.colors.backgroundSecondary,padding:6,borderRadius:e.spacing.lg},""),children:(0,x.Y)(i.I,{component:A,css:(0,n.AH)({display:"flex",color:e.colors.textSecondary},"")})})};var T={name:"1eoy87d",styles:"display:flex;justify-content:space-between"};const N=()=>{const{theme:e}=(0,i.u)();return(0,x.FD)("div",{css:(0,n.AH)({height:2*e.general.heightSm,marginBottom:e.spacing.sm},""),children:[(0,x.Y)("div",{css:(0,n.AH)({height:e.spacing.lg},""),children:(0,x.Y)(t.GenericSkeleton,{css:(0,n.AH)({width:100,height:e.spacing.md},""),loading:!0})}),(0,x.FD)("div",{css:T,children:[(0,x.FD)("div",{css:(0,n.AH)({display:"flex",gap:e.spacing.sm,marginTop:.5*e.spacing.xs},""),children:[(0,x.Y)(t.GenericSkeleton,{css:(0,n.AH)({width:e.general.heightSm,height:e.general.heightSm},""),loading:!0}),(0,x.Y)(t.GenericSkeleton,{css:(0,n.AH)({width:160,height:e.general.heightSm},""),loading:!0})]}),(0,x.FD)("div",{css:(0,n.AH)({display:"flex",gap:e.spacing.sm},""),children:[(0,x.Y)(t.GenericSkeleton,{css:(0,n.AH)({width:100,height:e.general.heightSm},""),loading:!0}),(0,x.Y)(t.GenericSkeleton,{css:(0,n.AH)({width:60,height:e.general.heightSm},""),loading:!0})]})]})]})};var F=o(85015);const z=({experimentId:e,modelId:l,activeTabName:o})=>(0,x.Y)(t.NavigationMenu.Root,{children:(0,x.FD)(t.NavigationMenu.List,{children:[(0,x.Y)(t.NavigationMenu.Item,{active:!o,children:(0,x.Y)(r.N_,{to:g.Ay.getExperimentLoggedModelDetailsPageRoute(e,l),children:(0,x.Y)(c.A,{id:"FBR3Q/",defaultMessage:"Overview"})})},"overview"),(0,x.Y)(t.NavigationMenu.Item,{active:"traces"===o,children:(0,x.Y)(r.N_,{to:g.Ay.getExperimentLoggedModelDetailsPageRoute(e,l,"traces"),children:(0,x.Y)(c.A,{id:"TeN9hs",defaultMessage:"Traces"})})},"traces"),(0,x.Y)(t.NavigationMenu.Item,{active:"artifacts"===o,children:(0,x.Y)(r.N_,{to:g.Ay.getExperimentLoggedModelDetailsPageRoute(e,l,"artifacts"),children:(0,x.Y)(c.A,{id:"Kwz1fc",defaultMessage:"Artifacts"})})},"artifacts")]})});o(48107),o(69603);var H=o(17763),B=o(86134),P=o(88185),O=o(52644),K=o(53935);var V=o(29774);const $=({loggedModel:e,onDescriptionChanged:l})=>{var o,d,a,s,r;const g=null!==(o=null===e||void 0===e||null===(d=e.info)||void 0===d||null===(a=d.tags)||void 0===a||null===(s=a.find(e=>e.key===K.e))||void 0===s?void 0:s.value)&&void 0!==o?o:void 0,[m,v]=(0,f.useState)(!1),p=(0,u.A)(),{theme:h}=(0,i.u)(),{patch:M}=(({loggedModelId:e})=>{const{isLoading:l,error:o,mutateAsync:n}=(0,b.n)({mutationFn:async l=>{const o={tags:(0,I.entries)(l).map(([e,l])=>({key:e,value:l}))};return(0,R.ff)((0,R.we)(`ajax-api/2.0/mlflow/logged-models/${e}/tags`),{method:"PATCH",body:o})}});return{isLoading:l,error:o,patch:n}})({loggedModelId:null===e||void 0===e||null===(r=e.info)||void 0===r?void 0:r.model_id}),{handleError:y}=(0,V.tF)(),Y=!g;return(0,x.FD)("div",{css:(0,n.AH)({marginBottom:h.spacing.md},""),children:[(0,x.FD)(i.T.Title,{level:4,css:(0,n.AH)({display:"flex",alignItems:"center",gap:h.spacing.xs},""),children:[(0,x.Y)(c.A,{id:"IB0MR8",defaultMessage:"Description"}),(0,x.Y)(i.B,{componentId:"mlflow.logged_models.details.description.edit",size:"small",type:"tertiary","aria-label":p.formatMessage({id:"7pRcdg",defaultMessage:"Edit description"}),onClick:()=>v(!0),icon:(0,x.Y)(t.PencilIcon,{})})]}),Y&&!m&&(0,x.Y)(i.T.Hint,{children:(0,x.Y)(c.A,{id:"npKSv/",defaultMessage:"No description"})}),(!Y||m)&&(0,x.Y)(O.VY,{defaultMarkdown:g,onSubmit:async e=>{try{await M({[K.e]:e}),await l(),v(!1)}catch(o){y(o)}},onCancel:()=>v(!1),showEditor:m})]})};var U=o(27461),Z=o(76256),G=o(66916),j=o(90061),q=o(43617);const W=({getValue:e})=>{var l;const{runName:o,runId:n}=null!==(l=e())&&void 0!==l?l:{};return(0,x.Y)(r.N_,{to:g.Ay.getDirectRunPageRoute(null!==n&&void 0!==n?n:""),children:o||n})};var X=o(97587),J=o(47207);const Q=({getValue:e})=>{const{datasetDigest:l,datasetName:o,runId:n}=e();return o?(0,x.Y)(X.f,{datasetName:o,datasetDigest:l,runId:n}):"-"};var ee={name:"17mlebt",styles:"display:flex;flex-direction:column;overflow:hidden;max-height:400px"};const le=({loggedModel:e,relatedRunsData:l,relatedRunsLoading:o})=>{const{theme:d}=(0,i.u)(),{detailsPageTableStyles:a,detailsPageNoEntriesStyles:s}=(0,J.z)(),r=(0,u.A)(),[g,m]=(0,f.useState)(""),v=(0,f.useMemo)(()=>{var n,i,t;return o?[]:null!==(n=null===e||void 0===e||null===(i=e.data)||void 0===i||null===(t=i.metrics)||void 0===t?void 0:t.map(o=>{var n,i,t;const d=null===l||void 0===l||null===(n=l.find(e=>{var l;return(null===(l=e.info)||void 0===l?void 0:l.runUuid)===o.run_id}))||void 0===n||null===(i=n.info)||void 0===i?void 0:i.runName;return{...o,experimentId:null===(t=e.info)||void 0===t?void 0:t.experiment_id,runName:d}}))&&void 0!==n?n:[]},[e,o,l]),p=(0,f.useMemo)(()=>v.filter(({key:e,dataset_name:l,dataset_digest:o,runName:n})=>{const i=g.toLowerCase();return(null===e||void 0===e?void 0:e.toLowerCase().includes(i))||(null===l||void 0===l?void 0:l.toLowerCase().includes(i))||(null===o||void 0===o?void 0:o.toLowerCase().includes(i))||(null===n||void 0===n?void 0:n.toLowerCase().includes(i))}),[g,v]),h=(0,f.useMemo)(()=>[{id:"metric",accessorKey:"key",header:r.formatMessage({id:"R/4/8G",defaultMessage:"Metric"}),enableResizing:!0,size:240},{id:"dataset",header:r.formatMessage({id:"lCfyQO",defaultMessage:"Dataset"}),accessorFn:({dataset_name:e,dataset_digest:l,run_id:o})=>({datasetName:e,datasetDigest:l,runId:o}),enableResizing:!0,cell:Q},{id:"sourceRun",header:r.formatMessage({id:"z42Rsj",defaultMessage:"Source run"}),accessorFn:({run_id:e,runName:l,experimentId:o})=>({runId:e,runName:l,experimentId:o}),enableResizing:!0,cell:W},{id:"value",header:r.formatMessage({id:"NU5iHM",defaultMessage:"Value"}),accessorKey:"value",enableResizing:!0,meta:{styles:{minWidth:120}}}],[r]),M=(0,Z.L)("mlflow/server/js/src/experiment-tracking/components/experiment-logged-models/ExperimentLoggedModelDetailsMetricsTable.tsx",{data:p,getCoreRowModel:(0,j.HT)(),getExpandedRowModel:(0,j.D0)(),getRowId:e=>{var l;return null!==(l=[e.key,e.dataset_digest,e.run_id].join("."))&&void 0!==l?l:""},enableColumnResizing:!0,columnResizeMode:"onChange",columns:h});return(0,x.FD)("div",{css:ee,children:[(0,x.Y)(i.T.Title,{level:4,children:(0,x.Y)(c.A,{id:"lPNTq7",defaultMessage:"Metrics ({length})",values:{length:v.length}})}),(0,x.Y)("div",{css:(0,n.AH)({padding:d.spacing.sm,border:`1px solid ${d.colors.border}`,borderRadius:d.general.borderRadiusBase,display:"flex",flexDirection:"column",overflow:"hidden"},""),children:(()=>{if(o)return(0,x.Y)(t.TableSkeleton,{lines:3});if(!v.length)return(0,x.Y)("div",{css:s,children:(0,x.Y)(t.Empty,{description:(0,x.Y)(c.A,{id:"XwkX9B",defaultMessage:"No metrics recorded"})})});const e=p.length<1;return(0,x.FD)(x.FK,{children:[(0,x.Y)("div",{css:(0,n.AH)({marginBottom:d.spacing.sm},""),children:(0,x.Y)(G.I,{componentId:"mlflow.logged_model.details.metrics.table.search",prefix:(0,x.Y)(G.S,{}),placeholder:r.formatMessage({id:"+Cr7Gu",defaultMessage:"Search metrics"}),value:g,onChange:e=>m(e.target.value),allowClear:!0})}),(0,x.FD)(t.Table,{ref:e=>null===e||void 0===e?void 0:e.setAttribute("data-testid","logged-model-details-metrics-table"),scrollable:!0,empty:e?(0,x.Y)("div",{children:(0,x.Y)(t.Empty,{description:(0,x.Y)(c.A,{id:"hyHL1n",defaultMessage:"No metrics match the search filter"})})}):null,css:a,children:[(0,x.Y)(t.TableRow,{isHeader:!0,children:M.getLeafHeaders().map((e,l)=>{var o;return(0,x.Y)(t.TableHeader,{componentId:"mlflow.logged_model.details.metrics.table.header",header:e,column:e.column,setColumnSizing:M.setColumnSizing,isResizing:e.column.getIsResizing(),css:(0,n.AH)({flexGrow:e.column.getCanResize()?0:1,...null===(o=e.column.columnDef.meta)||void 0===o?void 0:o.styles},""),style:{flexBasis:e.column.getCanResize()?e.column.getSize():void 0},children:(0,q.Kv)(e.column.columnDef.header,e.getContext())},e.id)})}),M.getRowModel().rows.map(e=>(0,x.Y)(t.TableRow,{children:e.getAllCells().map(e=>{var l;return(0,x.Y)(t.TableCell,{style:{flexGrow:e.column.getCanResize()?0:1,flexBasis:e.column.getCanResize()?e.column.getSize():void 0},css:(0,n.AH)({...null===(l=e.column.columnDef.meta)||void 0===l?void 0:l.styles},""),children:(0,q.Kv)(e.column.columnDef.cell,e.getContext())},e.id)})},e.id))]})]})})()})]})};const oe=({getValue:e})=>{var l;const o=null!==(l=e())&&void 0!==l?l:[];return(0,I.isEmpty)(o)?(0,x.Y)(x.FK,{children:"-"}):(0,x.Y)(t.Overflow,{children:o.map(({datasetDigest:e,datasetName:l,runId:o})=>(0,x.Y)(X.f,{datasetName:l,datasetDigest:e,runId:o},[l,e].join(".")))})};var ne={name:"17mlebt",styles:"display:flex;flex-direction:column;overflow:hidden;max-height:400px"},ie={name:"11g4mt0",styles:"font-size:16px"};const te=({loggedModel:e,relatedRunsData:l,relatedRunsLoading:o})=>{const{theme:d}=(0,i.u)(),{detailsPageTableStyles:a,detailsPageNoEntriesStyles:s}=(0,J.z)(),r=(0,u.A)(),[g,m]=(0,f.useState)(""),v=(0,f.useMemo)(()=>{var n,i,t;if(o)return[];const d=null!==(n=null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.metrics)&&void 0!==n?n:[],a=(0,I.groupBy)(d,"run_id");return null!==e&&void 0!==e&&null!==(t=e.info)&&void 0!==t&&t.source_run_id&&!a[e.info.source_run_id]&&(a[e.info.source_run_id]=[]),(0,I.entries)(a).map(([o,n])=>{var i,t,d;const a=(0,I.uniqBy)(n,"dataset_name").map(({dataset_digest:e,dataset_name:l})=>({datasetDigest:e,datasetName:l,runId:o})).filter(e=>Boolean(e.datasetName)||Boolean(e.datasetDigest)),s=null===l||void 0===l||null===(i=l.find(e=>{var l;return(null===(l=e.info)||void 0===l?void 0:l.runUuid)===o}))||void 0===i||null===(t=i.info)||void 0===t?void 0:t.runName;return{runId:o,runName:s,datasets:a,experimentId:null===e||void 0===e||null===(d=e.info)||void 0===d?void 0:d.experiment_id}})},[e,o,l]),p=(0,f.useMemo)(()=>v.filter(({runName:e,datasets:l})=>{const o=g.toLowerCase();return(null===e||void 0===e?void 0:e.toLowerCase().includes(o))||l.find(e=>{var l;return null===(l=e.datasetName)||void 0===l?void 0:l.toLowerCase().includes(o)})}),[g,v]),h=(0,f.useMemo)(()=>[{id:"run",header:r.formatMessage({id:"/4Aok8",defaultMessage:"Run"}),enableResizing:!0,size:240,accessorFn:({runId:e,runName:l,experimentId:o})=>({runId:e,runName:l,experimentId:o}),cell:W},{id:"input",header:r.formatMessage({id:"ubeHow",defaultMessage:"Input"}),accessorKey:"datasets",enableResizing:!1,cell:oe}],[r]),M=(0,Z.L)("mlflow/server/js/src/experiment-tracking/components/experiment-logged-models/ExperimentLoggedModelDetailsRunsTable.tsx",{data:p,getCoreRowModel:(0,j.HT)(),getExpandedRowModel:(0,j.D0)(),getRowId:e=>e.key,enableColumnResizing:!0,columnResizeMode:"onChange",columns:h});return(0,x.FD)("div",{css:ne,children:[(0,x.Y)(i.T.Title,{css:ie,children:"Runs"}),(0,x.Y)("div",{css:(0,n.AH)({padding:d.spacing.sm,border:`1px solid ${d.colors.border}`,borderRadius:d.general.borderRadiusBase,display:"flex",flexDirection:"column",overflow:"hidden"},""),children:(()=>{if(o)return(0,x.Y)(t.TableSkeleton,{lines:3});if(!v.length)return(0,x.Y)("div",{css:s,children:(0,x.Y)(t.Empty,{description:(0,x.Y)(c.A,{id:"TC9IhO",defaultMessage:"No runs"})})});const e=p.length<1;return(0,x.FD)(x.FK,{children:[(0,x.Y)("div",{css:(0,n.AH)({marginBottom:d.spacing.sm},""),children:(0,x.Y)(G.I,{componentId:"mlflow.logged_model.details.runs.table.search",prefix:(0,x.Y)(G.S,{}),placeholder:r.formatMessage({id:"eQV8Hs",defaultMessage:"Search runs"}),value:g,onChange:e=>m(e.target.value),allowClear:!0})}),(0,x.FD)(t.Table,{scrollable:!0,ref:e=>null===e||void 0===e?void 0:e.setAttribute("data-testid","logged-model-details-runs-table"),empty:e?(0,x.Y)("div",{children:(0,x.Y)(t.Empty,{description:(0,x.Y)(c.A,{id:"5bBqLk",defaultMessage:"No runs match the search filter"})})}):null,css:a,children:[(0,x.Y)(t.TableRow,{isHeader:!0,children:M.getLeafHeaders().map((e,l)=>(0,x.Y)(t.TableHeader,{componentId:"mlflow.logged_model.details.runs.table.header",header:e,column:e.column,setColumnSizing:M.setColumnSizing,isResizing:e.column.getIsResizing(),css:(0,n.AH)({flexGrow:e.column.getCanResize()?0:1},""),style:{flexBasis:e.column.getCanResize()?e.column.getSize():void 0},children:(0,q.Kv)(e.column.columnDef.header,e.getContext())},e.id))}),M.getRowModel().rows.map(e=>(0,x.Y)(t.TableRow,{children:e.getAllCells().map(e=>(0,x.Y)(t.TableCell,{style:{flexGrow:e.column.getCanResize()?0:1,flexBasis:e.column.getCanResize()?e.column.getSize():void 0},multiline:!0,children:(0,q.Kv)(e.column.columnDef.cell,e.getContext())},e.id))},e.id))]})]})})()})]})};var de=o(6050);const ae=({row:e})=>{var l;const{experimentId:o,name:n,version:i}=null!==(l=e.original)&&void 0!==l?l:{},t=g.Ay.getPromptDetailsPageRoute(n);if(i){const e=new URLSearchParams;e.set(de.$t,i);const l=`${t}?${e.toString()}`;return(0,x.Y)(r.N_,{to:l,children:n})}return(0,x.Y)(r.N_,{to:t,children:n})},se=({row:e})=>{var l;const{version:o}=null!==(l=e.original)&&void 0!==l?l:{};return(0,x.Y)(i.T.Paragraph,{withoutMargins:!0,children:o})};var re={name:"17mlebt",styles:"display:flex;flex-direction:column;overflow:hidden;max-height:400px"},ue={name:"11g4mt0",styles:"font-size:16px"};const ce=({data:e})=>{const l=(0,u.A)(),{theme:o}=(0,i.u)(),[d,a]=(0,f.useState)(""),s=(0,f.useMemo)(()=>[{id:"name",header:l.formatMessage({id:"npoynr",defaultMessage:"Prompt Name"}),enableResizing:!0,size:400,accessorKey:"name",cell:ae},{id:"version",header:l.formatMessage({id:"3zU3+M",defaultMessage:"Version"}),enableResizing:!1,accessorKey:"version",cell:se}],[l]),r=(0,Z.L)("mlflow/server/js/src/experiment-tracking/components/experiment-prompts/ExperimentLinkedPromptsTable.tsx",{data:e,getRowId:e=>e.name,getCoreRowModel:(0,j.HT)(),getFilteredRowModel:(0,j.hM)(),enableColumnResizing:!0,columnResizeMode:"onChange",columns:s,state:{globalFilter:d},onGlobalFilterChange:a,globalFilterFn:"includesString"});return(0,x.FD)("div",{css:re,children:[(0,x.Y)(i.T.Title,{css:ue,children:(0,x.Y)(c.A,{id:"1T2RpQ",defaultMessage:"Prompts"})}),(0,x.Y)("div",{css:(0,n.AH)({padding:o.spacing.sm,border:`1px solid ${o.colors.border}`,borderRadius:o.general.borderRadiusBase,display:"flex",flexDirection:"column",overflow:"hidden"},""),children:(0,x.FD)(x.FK,{children:[(0,x.Y)("div",{css:(0,n.AH)({marginBottom:o.spacing.sm},""),children:(0,x.Y)(G.I,{componentId:"mlflow.logged_model.details.runs.table.search",prefix:(0,x.Y)(G.S,{}),placeholder:l.formatMessage({id:"xZ/PkV",defaultMessage:"Search prompts"}),value:d,onChange:e=>a(e.target.value),allowClear:!0})}),(0,x.FD)(t.Table,{scrollable:!0,css:(0,n.AH)({"&>div":(0,i.A)(o,{orientation:"vertical"})},""),empty:0===e.length?(0,x.Y)(t.Empty,{description:(0,x.Y)(c.A,{id:"C9wfr0",defaultMessage:"No prompts"})}):0===r.getFilteredRowModel().rows.length?(0,x.Y)(t.Empty,{description:(0,x.Y)(c.A,{id:"yltiK8",defaultMessage:"No prompts match your search"})}):null,children:[(0,x.Y)(t.TableRow,{isHeader:!0,children:r.getLeafHeaders().map(e=>(0,x.Y)(t.TableHeader,{componentId:"mlflow.logged_model.details.linked_prompts.table.header",header:e,column:e.column,setColumnSizing:r.setColumnSizing,isResizing:e.column.getIsResizing(),css:(0,n.AH)({flexGrow:e.column.getCanResize()?0:1},""),style:{flexBasis:e.column.getCanResize()?e.column.getSize():void 0},children:(0,q.Kv)(e.column.columnDef.header,e.getContext())},e.id))}),r.getRowModel().rows.map(e=>(0,x.Y)(t.TableRow,{children:e.getAllCells().map(l=>(0,x.Y)(t.TableCell,{style:{flexGrow:l.column.getCanResize()?0:1,flexBasis:l.column.getCanResize()?l.column.getSize():void 0},children:(0,q.Kv)(l.column.columnDef.cell,l.getContext())},`${l.id}-${e.original.name}-${e.original.version}-cell`))},`${e.id}-${e.original.name}-${e.original.version}-row`))]})]})})]})},ge=({loggedModel:e})=>{var l,o,n;const i=null===e||void 0===e||null===(l=e.info)||void 0===l?void 0:l.tags,t=null!==(o=null===e||void 0===e||null===(n=e.info)||void 0===n?void 0:n.experiment_id)&&void 0!==o?o:"",d=null===i||void 0===i?void 0:i.find(({key:e})=>e===Y.VT),a=(0,f.useMemo)(()=>{try{var e;return JSON.parse(null!==(e=null===d||void 0===d?void 0:d.value)&&void 0!==e?e:"[]")}catch(l){return[]}},[d]),s=(0,f.useMemo)(()=>a.map(e=>({...e,experimentId:t})),[a,t]);return(0,x.Y)(ce,{data:s})};var me=o(8750);const ve=({loggedModel:e,empty:l})=>{const o=(0,f.useMemo)(()=>{var l,o;return(null!==(l=null===(o=e.data)||void 0===o?void 0:o.metrics)&&void 0!==l?l:[]).reduce((e,{dataset_digest:l,dataset_name:o,run_id:n})=>(o&&l&&!e.find(e=>e.dataset_name===o&&e.dataset_digest===l)&&e.push({dataset_name:o,dataset_digest:l,run_id:n}),e),[])},[e]);return o.length?(0,x.Y)(t.Overflow,{children:o.map(({dataset_digest:e,dataset_name:l,run_id:o})=>(0,x.Y)(X.f,{datasetName:l,datasetDigest:e,runId:null!==o&&void 0!==o?o:null},[l,e].join(".")))}):null!==l&&void 0!==l?l:(0,x.Y)(x.FK,{children:"-"})};var fe=o(75173),pe=o(10165);var he={name:"ozd7xs",styles:"flex-shrink:0"};const Me=({loggedModel:e,empty:l})=>{const o=(0,f.useMemo)(()=>[e],[e]),{theme:d}=(0,i.u)(),{modelVersions:a}=(0,L.b)({loggedModels:o});return(0,I.isEmpty)(a)?null!==l&&void 0!==l?l:(0,x.Y)(x.FK,{children:"-"}):(0,x.Y)(t.Overflow,{children:null===a||void 0===a?void 0:a.map(({displayedName:e,version:l,link:o})=>(0,x.FD)(r.N_,{to:o,css:(0,n.AH)({display:"flex",alignItems:"center",gap:d.spacing.sm},""),children:[(0,x.FD)("span",{css:(0,n.AH)({display:"flex",alignItems:"center",gap:d.spacing.sm,wordBreak:"break-all"},""),children:[(0,x.Y)(pe.h,{css:he})," ",e," "]}),(0,x.FD)(t.Tag,{componentId:"mlflow.logged_model.details.registered_model_version_tag",children:["v",l]})]},`${e}-${l}`))})};var ye=o(79557),Ye=o(23158),Ce=o(21678);var we=function(e){return e.DETAILS="DETAILS",e.DATASETS="DATASETS",e.MODEL_VERSIONS="MODEL_VERSIONS",e}(we||{}),xe={name:"1bmnxg7",styles:"white-space:nowrap"};var _e={name:"82a6rk",styles:"flex:1"};const be=({onDataUpdated:e,loggedModel:l,experimentKind:o})=>{var a,s;const{theme:m}=(0,i.u)(),v=o===Y.Gk.GENAI_DEVELOPMENT,{data:p,loading:h,error:M}=(0,me.s)({loggedModels:l?[l]:[]}),y=(0,f.useMemo)(()=>null===p||void 0===p?void 0:p.find(e=>{var o,n;return(null===(o=e.info)||void 0===o?void 0:o.runUuid)===(null===l||void 0===l||null===(n=l.info)||void 0===n?void 0:n.source_run_id)}),[null===l||void 0===l||null===(a=l.info)||void 0===a?void 0:a.source_run_id,p]),C=(0,f.useMemo)(()=>{var e,o;return(0,I.keyBy)((null!==(e=null===l||void 0===l||null===(o=l.data)||void 0===o?void 0:o.params)&&void 0!==e?e:[]).filter(({key:e,value:l})=>!(0,I.isEmpty)(e)&&!(0,I.isEmpty)(l)),"key")},[null===l||void 0===l||null===(s=l.data)||void 0===s?void 0:s.params]),w=(({loggedModel:e,relatedRunsLoading:l,relatedSourceRun:o})=>{var d,a,s,c,m,v,f,p,h,M,y,C,w,_,b,R,A,I,L;const D=(0,u.A)(),{theme:k}=(0,i.u)(),S=e&&(0,x.FD)(x.FK,{children:[(0,x.Y)(Ce.wB,{keyValue:D.formatMessage({id:"MUUYWZ",defaultMessage:"Created at"}),value:(0,x.Y)(H.P,{value:null===e||void 0===e||null===(d=e.info)||void 0===d?void 0:d.creation_timestamp_ms})}),(0,x.Y)(Ce.wB,{keyValue:D.formatMessage({id:"Bs2X0L",defaultMessage:"Created by"}),value:null!==(a=null===(s=e.info)||void 0===s||null===(c=s.tags)||void 0===c||null===(m=c.find(e=>e.key===Y.g0))||void 0===m?void 0:m.value)&&void 0!==a?a:"-"}),(0,x.Y)(Ce.wB,{keyValue:D.formatMessage({id:"UgF7ax",defaultMessage:"Status"}),value:(0,x.Y)(B.a,{data:e})}),(0,x.Y)(Ce.wB,{keyValue:D.formatMessage({id:"A+5KMV",defaultMessage:"Model ID"}),value:(0,x.Y)(P.t,{value:null!==(v=null===(f=e.info)||void 0===f?void 0:f.model_id)&&void 0!==v?v:"",css:xe})}),(null===(p=e.info)||void 0===p?void 0:p.source_run_id)&&(null===(h=e.info)||void 0===h?void 0:h.experiment_id)&&(l||o)&&(0,x.Y)(Ce.wB,{keyValue:D.formatMessage({id:"d8cdYc",defaultMessage:"Source run"}),value:l?(0,x.Y)(t.GenericSkeleton,{css:(0,n.AH)({width:200,height:k.spacing.md},"")}):(0,x.Y)(r.N_,{to:g.Ay.getRunPageRoute(null===(M=e.info)||void 0===M?void 0:M.experiment_id,null===(y=e.info)||void 0===y?void 0:y.source_run_id),children:null===o||void 0===o||null===(C=o.info)||void 0===C?void 0:C.runName})}),(null===(w=e.info)||void 0===w?void 0:w.source_run_id)&&(0,x.Y)(Ce.wB,{keyValue:D.formatMessage({id:"wFaOf0",defaultMessage:"Source run ID"}),value:(0,x.Y)(P.t,{value:null!==(_=null===(b=e.info)||void 0===b?void 0:b.source_run_id)&&void 0!==_?_:"",element:null!==(R=e.info)&&void 0!==R&&R.experiment_id?(0,x.Y)(r.N_,{to:g.Ay.getRunPageRoute(null===(A=e.info)||void 0===A?void 0:A.experiment_id,null===(I=e.info)||void 0===I?void 0:I.source_run_id),children:null===(L=e.info)||void 0===L?void 0:L.source_run_id}):void 0})}),(0,x.Y)(Ce.wB,{keyValue:D.formatMessage({id:"oShuJS",defaultMessage:"Logged from"}),value:(0,x.Y)(ye.J,{loggedModel:e,displayDetails:!0,css:(0,n.AH)({paddingTop:k.spacing.xs,paddingBottom:k.spacing.xs,wordBreak:"break-all"},"")})})]});return[{id:we.DETAILS,title:D.formatMessage({id:"fWPlO9",defaultMessage:"About this logged model"}),content:S},{id:we.DATASETS,title:D.formatMessage({id:"msllnR",defaultMessage:"Datasets used"}),content:e&&(0,x.Y)(ve,{loggedModel:e,empty:(0,x.Y)(Ce.bw,{})})},{id:we.MODEL_VERSIONS,title:D.formatMessage({id:"LpdcPw",defaultMessage:"Model versions"}),content:e&&(0,x.Y)(Me,{empty:(0,x.Y)(Ce.bw,{}),loggedModel:e})}]})({loggedModel:l,relatedRunsLoading:h,relatedSourceRun:y});return(0,x.Y)(fe.Xs,{children:(0,x.FD)(Ye.a,{css:_e,usingSidebarLayout:!0,secondarySections:w,sidebarSize:"sm",children:[(0,x.Y)($,{loggedModel:l,onDescriptionChanged:e}),(null===M||void 0===M?void 0:M.message)&&(0,x.FD)(x.FK,{children:[(0,x.Y)(t.Alert,{closable:!1,message:(0,x.Y)(c.A,{id:"nNIors",defaultMessage:"Error when fetching related runs data: {error}",values:{error:M.message}}),type:"error",componentId:"mlflow.logged_model.details.related_runs.error"}),(0,x.Y)(d.S,{size:"md"})]}),(0,x.FD)("div",{css:["display:flex;flex-direction:column;",{gap:m.spacing.lg,overflow:"hidden",paddingBottom:3*m.spacing.lg},""],children:[(0,x.Y)(le,{loggedModel:l,relatedRunsLoading:h,relatedRunsData:null!==p&&void 0!==p?p:void 0}),(0,x.Y)(U.y,{params:C}),(0,x.Y)(te,{loggedModel:l,relatedRunsLoading:h,relatedRunsData:null!==p&&void 0!==p?p:void 0}),v&&(0,x.Y)(ge,{loggedModel:l})]})]})})};var Re=o(70513),Ae=o(54741),Ie=o(91944),Le=o(43075);var De={name:"1jv19ey",styles:"height:100%;overflow:hidden;display:flex"};const ke=({loggedModel:e})=>{var l,o,n,i,t,d,a;return(0,x.Y)("div",{css:De,children:(0,x.Y)(Le.Ay,{isLoggedModelsMode:!0,loggedModelId:null!==(l=null===(o=e.info)||void 0===o?void 0:o.model_id)&&void 0!==l?l:"",artifactRootUri:null!==(n=null===e||void 0===e||null===(i=e.info)||void 0===i?void 0:i.artifact_uri)&&void 0!==n?n:"",useAutoHeight:!0,experimentId:null!==(t=null===e||void 0===e||null===(d=e.info)||void 0===d?void 0:d.experiment_id)&&void 0!==t?t:"",entityTags:null===e||void 0===e||null===(a=e.info)||void 0===a?void 0:a.tags})})};var Se={name:"1hyob9y",styles:"position:relative;width:min-content"};const Ee=({modelId:e})=>{const{theme:l}=(0,i.u)(),o=`import mlflow\n          \nmlflow.set_active_model(model_id="${e}")`;return(0,x.FD)(x.FK,{children:[(0,x.Y)(i.T.Paragraph,{children:(0,x.Y)(c.A,{id:"3X52Jw",defaultMessage:"This tab displays all the traces logged to this logged model. MLflow supports automatic tracing for many popular generative AI frameworks. Follow the steps below to log your first trace. For more information about MLflow Tracing, visit the <a>MLflow documentation</a>.",values:{a:e=>(0,x.Y)(i.T.Link,{componentId:"mlflow.logged_model.traces.traces_table.quickstart_docs_link",href:"https://mlflow.org/docs/latest/llms/tracing/index.html",openInNewTab:!0,children:e})}})}),(0,x.Y)(i.T.Paragraph,{children:(0,x.Y)(c.A,{id:"PBeZnP",defaultMessage:"You can start logging traces to this logged model by calling {code} first:",values:{code:(0,x.Y)("code",{children:"mlflow.set_active_model"})}})}),(0,x.Y)(i.T.Paragraph,{children:(0,x.FD)("div",{css:Se,children:[(0,x.Y)(M.i,{componentId:"mlflow.logged_model.traces.traces_table.set_active_model_quickstart_snippet_copy",css:(0,n.AH)({zIndex:1,position:"absolute",top:l.spacing.xs,right:l.spacing.xs},""),showLabel:!1,copyText:o,icon:(0,x.Y)(t.CopyIcon,{})}),(0,x.Y)(h.z7,{showLineNumbers:!0,theme:l.isDarkMode?"duotoneDark":"light",style:{padding:`${l.spacing.sm}px ${l.spacing.md}px`},language:"python",children:o})]})}),(0,x.Y)(i.T.Paragraph,{children:(0,x.Y)(c.A,{id:"uXtIPX",defaultMessage:"Next, you can log traces to this logged model depending on your framework:"})})]})};var Te=o(63394),Ne=o(65641);var Fe={name:"13udsys",styles:"height:100%"};const ze=({loggedModel:e,experimentTags:l,isLoadingExperiment:o})=>{var n,i,t,d;const a=(0,f.useMemo)(()=>{var l,o;return[null!==(l=null===(o=e.info)||void 0===o?void 0:o.experiment_id)&&void 0!==l?l:""]},[null===(n=e.info)||void 0===n?void 0:n.experiment_id]);return null!==(i=e.info)&&void 0!==i&&i.experiment_id?(0,x.Y)("div",{css:Fe,children:(0,x.Y)(Te.A,{introductionText:(null===(t=e.info)||void 0===t?void 0:t.model_id)&&(0,x.Y)(Ee,{modelId:e.info.model_id}),displayVersionWarnings:!1,children:(0,x.Y)(He,{experimentIds:a,loggedModelId:null===(d=e.info)||void 0===d?void 0:d.model_id,isLoadingExperiment:o})})}):null},He=({experimentIds:e,loggedModelId:l,isLoadingExperiment:o})=>e.length>0?(0,x.Y)(Ne.v,{experimentId:e[0],endpointName:"",loggedModelId:l,isLoadingExperiment:o}):null;var Be=o(54871);var Pe={name:"1pbmicl",styles:"overflow:auto;flex:1"};const Oe=()=>{var e,l;const{experimentId:o,loggedModelId:d,tabName:a}=(0,r.g)(),{clearUserActionError:u,currentUserActionError:g}=(0,V.tF)();s()(o,"Experiment ID must be defined"),s()(d,"Logged model ID must be defined");const{theme:m}=(0,i.u)(),{data:v,isLoading:f,error:p,refetch:h}=(0,Re.b3)({loggedModelId:d}),{data:M,loading:y,apiError:Y,apolloError:C}=(0,Ae.L)({experimentId:o});if((0,Be.qd)("modelName",null===v||void 0===v||null===(e=v.info)||void 0===e?void 0:e.name),p)throw p;const w=null!==Y&&void 0!==Y?Y:C,_=M,b=(0,Ie.Fi)(null===_||void 0===_?void 0:_.tags);return(0,x.FD)(x.FK,{children:[(0,x.Y)(S,{experimentId:o,experiment:M,loggedModel:v,loading:f||y,onSuccess:h}),g&&(0,x.Y)(t.Alert,{componentId:"mlflow.logged_model.details.user-action-error",css:(0,n.AH)({marginBottom:m.spacing.sm},""),type:"error",message:null!==(l=g.displayMessage)&&void 0!==l?l:g.message,onClose:u}),(null===w||void 0===w?void 0:w.message)&&(0,x.Y)(t.Alert,{componentId:"mlflow.logged_model.details.experiment-error",css:(0,n.AH)({marginBottom:m.spacing.sm},""),type:"error",message:(0,x.Y)(c.A,{id:"E4Te7L",defaultMessage:"Experiment load error: {errorMessage}",values:{errorMessage:w.message}}),closable:!1}),(0,x.Y)(z,{experimentId:o,modelId:d,activeTabName:a}),(0,x.Y)("div",{css:Pe,children:(()=>{return f?(0,x.Y)(t.TableSkeleton,{lines:12}):v?"traces"===a?(0,x.Y)(ze,{loggedModel:v,experimentTags:null!==(e=null===_||void 0===_?void 0:_.tags)&&void 0!==e?e:[],isLoadingExperiment:y}):"artifacts"===a?(0,x.Y)(ke,{loggedModel:v}):(0,x.Y)(be,{onDataUpdated:h,loggedModel:v,experimentKind:b}):null;var e})()})]})};var Ke={name:"5xij5q",styles:"display:flex;overflow:hidden;height:100%;flex-direction:column"};var Ve=()=>{const{theme:e}=(0,i.u)();return(0,x.Y)(F.X,{children:(0,x.FD)(t.PageWrapper,{css:Ke,children:[(0,x.Y)(d.S,{shrinks:!1}),(0,x.Y)(Oe,{}),(0,x.Y)(d.S,{shrinks:!1})]})})}},42762:function(e,l,o){o.d(l,{m:function(){return d}});var n=o(82716),i=o(28126),t=o(73408);const d=({sourceType:e,className:l})=>e===i.Y1.NOTEBOOK?(0,t.Y)(n.NotebookIcon,{className:l}):e===i.Y1.LOCAL?(0,t.Y)(n.FileCodeIcon,{className:l}):e===i.Y1.PROJECT?(0,t.Y)(n.FolderBranchIcon,{className:l}):e===i.Y1.JOB?(0,t.Y)(n.WorkflowsIcon,{className:l}):null},68044:function(e,l,o){o.d(l,{k:function(){return a}});var n=o(68248),i=o(46709),t=o(27757),d=o(73408);const a=i.forwardRef((e,l)=>{const{pressed:o,onClick:i,icon:a,onBlur:s,onFocus:r,onMouseEnter:u,onMouseLeave:c,componentId:g,analyticsEvents:m,type:v,...f}=e,{theme:p}=(0,t.u)(),h=(0,t.e)({componentType:t.f.Button,componentId:g,analyticsEvents:null!==m&&void 0!==m?m:[t.d.OnClick]});return(0,d.Y)("button",{onClick:e=>{h.onClick(e),null===i||void 0===i||i(e)},css:(0,n.AH)({cursor:"pointer",width:p.general.heightSm,height:p.general.heightSm,borderRadius:p.legacyBorders.borderRadiusMd,lineHeight:p.typography.lineHeightBase,padding:0,border:0,display:"flex",alignItems:"center",justifyContent:"center",background:o?p.colors.actionDefaultBackgroundPress:"transparent",color:o?p.colors.actionDefaultTextPress:p.colors.textSecondary,"&:hover":{background:p.colors.actionDefaultBackgroundHover,color:p.colors.actionDefaultTextHover}},""),ref:l,onBlur:s,onFocus:r,onMouseEnter:u,onMouseLeave:c,...f,children:a})})},85015:function(e,l,o){o.d(l,{X:function(){return c}});var n=o(29774),i=o(89949),t=o(82716),d=o(27757),a=o(40724),s=o(73408);var r={name:"1vfb318",styles:"flex:1;display:flex;align-items:center;justify-content:center"};const u=({error:e})=>{var l;return(0,s.Y)(t.PageWrapper,{css:r,children:(0,s.Y)(t.Empty,{"data-testid":"fallback",title:(0,s.Y)(a.A,{id:"AOoWxS",defaultMessage:"Error"}),description:null!==(l=null===e||void 0===e?void 0:e.message)&&void 0!==l?l:(0,s.Y)(a.A,{id:"zmMR5p",defaultMessage:"An error occurred while rendering this component."}),image:(0,s.Y)(d.k,{})})})},c=({children:e,resetKey:l})=>(0,s.Y)(i.tH,{FallbackComponent:u,resetKeys:[l],children:(0,s.Y)(n.Au,{children:e})})},96980:function(e,l,o){o.d(l,{f:function(){return n}});const n=e=>Boolean(e.match(/^[^. /]+\.[^. /]+\.[^. /]+$/))}}]);