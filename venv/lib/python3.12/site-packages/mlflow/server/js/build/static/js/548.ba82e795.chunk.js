"use strict";(self.webpackChunk_mlflow_mlflow=self.webpackChunk_mlflow_mlflow||[]).push([[548],{10536:function(e,t,n){n.d(t,{o:function(){return c},z:function(){return m}});var i=n(68248),r=(n(46709),n(82716)),o=n(27757),s=n(79081),a=n(7655),l=n(36439),d=n(73408);function c({menu:e}){const t=(0,d.Y)(r.Menu,{children:e.map(({id:e,itemName:t,onClick:n,href:i,...o})=>(0,d.Y)(r.Menu.Item,{onClick:n,href:i,"data-testid":e,...o,children:t},e))});return e.length>0?(0,d.Y)(r.Dropdown,{overlay:t,trigger:["click"],placement:"bottomLeft",arrow:!0,children:(0,d.Y)(o.B,{componentId:"codegen_mlflow_app_src_shared_building_blocks_pageheader.tsx_54",icon:(0,d.Y)(r.OverflowIcon,{}),"data-testid":"overflow-menu-trigger","aria-label":"Open header dropdown menu"})}):null}var p={name:"1gz4j9a",styles:"margin-left:0"};function m(e){const{title:t,breadcrumbs:n=[],titleAddOns:c=[],preview:m,children:u,spacerSize:h,hideSpacer:g=!1,dangerouslyAppendEmotionCSS:f}=e,{theme:x}=(0,o.u)();(0,a.A)();return(0,d.FD)(d.FK,{children:[(0,d.Y)(r.Header,{breadcrumbs:n.length>0&&(0,d.Y)(r.Breadcrumb,{includeTrailingCaret:!0,children:n.map((e,t)=>(0,d.Y)(r.Breadcrumb.Item,{children:e},t))}),buttons:u,title:t,titleAddOns:(0,d.FD)(d.FK,{children:[m&&(0,d.Y)(l.W,{css:p}),c]}),dangerouslyAppendEmotionCSS:f}),(0,d.Y)(s.S,{css:(0,i.AH)({flexShrink:0,...g?{display:"none"}:{}},""),size:h})]})}},14466:function(e,t,n){n.d(t,{P:function(){return d},m:function(){return a}});var i=n(46709),r=n(82716),o=n(66916),s=n(73408);const a="newName";class l extends i.Component{constructor(...e){super(...e),this.inputToAutoFocus=void 0,this.autoFocusInputRef=e=>{this.inputToAutoFocus=e,e&&e.focus(),e&&e.select()},this.autoFocus=e=>{!1===e.visible&&!0===this.props.visible&&(this.inputToAutoFocus&&this.inputToAutoFocus.focus(),this.inputToAutoFocus&&this.inputToAutoFocus.select())},this.resetFields=e=>{const t=this.props.innerRef;e.name!==this.props.name&&t.current.resetFields([a])}}componentDidUpdate(e){this.autoFocus(e),this.resetFields(e)}render(){return(0,s.Y)(r.LegacyForm,{ref:this.props.innerRef,layout:"vertical",children:(0,s.Y)(r.LegacyForm.Item,{name:a,initialValue:this.props.name,rules:[{required:!0,message:`Please input a new name for the ${this.props.type}.`},{validator:this.props.validator}],label:`New ${this.props.type} name`,children:(0,s.Y)(o.I,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_modals_renameform.tsx_69",placeholder:`Input a ${this.props.type} name`,ref:this.autoFocusInputRef,"data-testid":"rename-modal-input"})})})}}const d=l},17509:function(e,t,n){n.d(t,{A:function(){return M}});var i=n(68248),r=n(82716),o=n(27757),s=n(79081),a=n(46709),l=n(56530),d=n(40072),c=n(53935),p=n(89774),m=n(33656),u=n(52644),h=n(40724),g=n(5690),f=n(31655),x=n(73408);const v=[["header","bold","italic","strikethrough"],["link","code","image"],["unordered-list","ordered-list"]],_=(0,m.OT)(),b=e=>{if(e){const t=(0,m.NW)(_.makeHtml(e));return(0,m.Yc)(t)}return null},M=({experiment:e,editing:t,setEditing:n,setShowAddDescriptionButton:m,onNoteUpdated:_,defaultValue:M})=>{const E=(0,l.d4)(t=>{const n=(0,d.xy)(e.experimentId,t);return n?(e=>{var t;return(null===(t=Object.values(e).find(e=>e.key===c.e))||void 0===t?void 0:t.value)||void 0})(n):""});m(!E);const Y=E||M,[w,k]=(0,a.useState)(Y),[y,S]=(0,a.useState)("write"),[I,A]=(0,a.useState)(!1),{theme:T}=(0,o.u)(),C=16+2*T.spacing.sm,N=(0,l.wA)(),R=(0,a.useCallback)(t=>{n(!1),m(!t);const i=(0,g.EJ)(e.experimentId,c.e,t);N(i).then(_)},[e.experimentId,N,n,m,_]);return(0,x.FD)("div",{css:(0,f.mp)()?{paddingBottom:T.spacing.sm,borderBottom:`1px solid ${T.colors.border}`}:void 0,children:[Y&&(0,x.FD)("div",{style:{whiteSpace:I?"normal":"pre-wrap",lineHeight:T.typography.lineHeightLg,background:T.colors.backgroundSecondary,display:"flex",alignItems:"flex-start",padding:T.spacing.xs},children:[(0,x.Y)("div",{style:{flexGrow:1,marginRight:12,overflow:"hidden",overflowWrap:I?"break-word":void 0,padding:`${T.spacing.sm}px 12px`,maxHeight:I?"none":C+"px",wordBreak:"break-word"},children:(0,x.Y)("div",{dangerouslySetInnerHTML:{__html:b(Y)}})}),(0,x.Y)(o.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_experimentviewdescriptionnotes.tsx_114",icon:(0,x.Y)(r.PencilIcon,{}),onClick:()=>n(!0),style:{padding:`0px ${T.spacing.sm}px`}}),I?(0,x.Y)(o.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_experimentviewdescriptionnotes.tsx_120",icon:(0,x.Y)(r.ChevronUpIcon,{}),onClick:()=>A(!1),style:{padding:`0px ${T.spacing.sm}px`}}):(0,x.Y)(o.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_experimentviewdescriptionnotes.tsx_126",icon:(0,x.Y)(r.ChevronDownIcon,{}),onClick:()=>A(!0),style:{padding:`0px ${T.spacing.sm}px`}})]}),(0,x.Y)(s.d,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_experimentviewdescriptionnotes.tsx_141",title:(0,x.Y)(h.A,{id:"Vkr4Bs",defaultMessage:"Add description"}),visible:t,okText:(0,x.Y)(h.A,{id:"xUnYdk",defaultMessage:"Save"}),cancelText:(0,x.Y)(h.A,{id:"757GVc",defaultMessage:"Cancel"}),onOk:()=>{R(w),n(!1)},onCancel:()=>{k(Y),n(!1)},children:(0,x.Y)(u.JY,{value:w||"",minEditorHeight:200,maxEditorHeight:500,minPreviewHeight:20,toolbarCommands:v,onChange:e=>k(e),selectedTab:y,onTabChange:e=>S(e),generateMarkdownPreview:()=>Promise.resolve(b(w)),getIcon:e=>(0,x.Y)(s.T,{componentId:"mlflow.experiment-tracking.experiment-description.edit",content:e,children:(0,x.Y)("span",{css:(0,i.AH)({color:T.colors.textPrimary},""),children:(0,x.Y)(p.SvgIcon,{icon:e})})})})})]})}},26158:function(e,t,n){n.d(t,{M:function(){return m},f:function(){return g}});var i=n(49708),r=n(39595),o=n(12803),s=n(46709),a=n(53637),l=n(63776);const d="experiments_page.page_size",c="experiments_page.sorting_state",p="experiment_list",m=()=>{const e=(0,r.jE)();return()=>{e.invalidateQueries({queryKey:[p]})}};function u(e){switch(e.operator){case"IS":return`tags.\`${e.key}\` = '${e.value}'`;case"IS NOT":return`tags.\`${e.key}\` != '${e.value}'`;case"CONTAINS":return`tags.\`${e.key}\` ILIKE '%${e.value}%'`}}const h=({queryKey:e})=>{var t;const[,{searchFilter:n,tagsFilter:i,pageToken:r,pageSize:s,sorting:a}]=e,l=null!==(t=null===a||void 0===a?void 0:a.map(e=>["order_by",`${e.id} ${e.desc?"DESC":"ASC"}`]))&&void 0!==t?t:[],d=[["max_results",String(s)],...l];return d.push(function({searchFilter:e,tagsFilter:t}){const n=[];e&&n.push(`name ILIKE '%${e}%'`);for(const i of null!==t&&void 0!==t?t:[])n.push(u(i));return n.length>0?["filter",n.join(" AND ")]:void 0}({searchFilter:n,tagsFilter:i})),r&&d.push(["page_token",r]),o.x.searchExperiments(d)},g=({searchFilter:e,tagsFilter:t}={})=>{var n,r,o,m;const u=(0,s.useRef)([]),[g,f]=(0,s.useState)(void 0),[x,v]=(0,a.Mj)({key:d,version:0,initialValue:25}),[_,b]=(0,a.Mj)({key:c,version:0,initialValue:[{id:"last_update_time",desc:!0}]});(0,s.useEffect)(()=>{f(void 0),u.current=[]},[e,t,_]);const M={options:[10,25,50,100],default:x,onChange(e){v(e),f(void 0)}},E=(0,i.I)([p,{searchFilter:e,tagsFilter:t,pageToken:g,pageSize:x,sorting:_}],{queryFn:h,retry:!1}),Y=(0,s.useCallback)(()=>{var e;u.current.push(g),f(null===(e=E.data)||void 0===e?void 0:e.next_page_token)},[null===(n=E.data)||void 0===n?void 0:n.next_page_token,g]),w=(0,s.useCallback)(()=>{const e=u.current.pop();f(e)},[]);return{data:(0,s.useMemo)(()=>{var e;const t=null===(e=E.data)||void 0===e?void 0:e.experiments;if(!t)return;return[...t.filter(l.n),...t.filter(e=>!(0,l.n)(e))]},[null===(r=E.data)||void 0===r?void 0:r.experiments]),error:null!==(o=E.error)&&void 0!==o?o:void 0,isLoading:E.isLoading,hasNextPage:void 0!==(null===(m=E.data)||void 0===m?void 0:m.next_page_token),hasPreviousPage:Boolean(g),onNextPage:Y,onPreviousPage:w,refetch:E.refetch,pageSizeSelect:M,sorting:_,setSorting:b}}},29452:function(e,t,n){n.d(t,{B:function(){return a}});var i=n(46709),r=n(79081),o=n(11522),s=n(73408);class a extends i.Component{constructor(...e){super(...e),this.state={isSubmitting:!1},this.formRef=i.createRef(),this.onSubmit=async()=>{this.setState({isSubmitting:!0});try{const e=await this.formRef.current.validateFields();await this.props.handleSubmit(e),this.resetAndClearModalForm(),this.onRequestCloseHandler()}catch(e){this.handleSubmitFailure(e)}},this.resetAndClearModalForm=()=>{this.setState({isSubmitting:!1}),this.formRef.current.resetFields()},this.handleSubmitFailure=e=>{this.setState({isSubmitting:!1}),o.A.logErrorAndNotifyUser(e)},this.onRequestCloseHandler=()=>{this.resetAndClearModalForm(),this.props.onClose()},this.handleCancel=()=>{var e,t;this.onRequestCloseHandler(),null===(e=(t=this.props).onCancel)||void 0===e||e.call(t)}}render(){const{isSubmitting:e}=this.state,{okText:t,cancelText:n,isOpen:o,footer:a,children:l}=this.props,d=i.Children.map(l,e=>i.isValidElement(e)?i.cloneElement(e,{innerRef:this.formRef}):e);return(0,s.Y)(r.d,{"data-testid":"mlflow-input-modal",className:this.props.className,title:this.props.title,width:540,visible:o,onOk:this.onSubmit,okText:t,cancelText:n,confirmLoading:e,onCancel:this.handleCancel,footer:a,centered:!0,children:d})}}},32667:function(e,t,n){n.d(t,{an:function(){return l},b:function(){return s}});var i=n(91105),r=n(44105),o=n(60284);const s="compareRunsMode",a={MODELS:e=>o.Ay.getExperimentPageTabRoute(e,r.fM.Models)},l=()=>{const[e,t]=(0,i.ok)(),n=(0,i.Zp)();return[e.get(s)||"TABLE",(e,i)=>{if(e in a&&i){var r;const t=null===(r=a[e])||void 0===r?void 0:r.call(a,i);if(t)return void n(t)}t(t=>(t.set(s,e||""),t),{replace:!1})}]}},36439:function(e,t,n){n.d(t,{W:function(){return l}});var i=n(68248),r=(n(46709),n(40724)),o=n(82716),s=n(27757),a=n(73408);const l=({className:e})=>{const{theme:t}=(0,s.u)();return(0,a.Y)(o.Tag,{componentId:"codegen_mlflow_app_src_shared_building_blocks_previewbadge.tsx_14",className:e,css:(0,i.AH)({marginLeft:t.spacing.xs},""),color:"turquoise",children:(0,a.Y)(r.A,{id:"8qJt7/",defaultMessage:"Experimental"})})}},42033:function(e,t,n){n.d(t,{G:function(){return o}});var i=n(61060),r=n(12803);const o=e=>(0,i.n)({mutationFn:({experimentId:t,kind:n})=>r.x.setExperimentTag({experiment_id:t,key:"mlflow.experimentKind",value:n}).then(()=>{var t;return null!==(t=null===e||void 0===e?void 0:e())&&void 0!==t?t:Promise.resolve()})})},52644:function(e,t,n){n.d(t,{VY:function(){return b},JY:function(){return v}});var i=n(68248),r=n(46709),o=n(27757),s=n(82716),a=n(79081),l=n(91105);const d=({when:e,message:t})=>{const n=r.useContext(l.jb).navigator.block;return r.useEffect(()=>{if(!e)return;return null===n||void 0===n?void 0:n(()=>window.confirm(t))},[t,n,e]),null};n(94943);var c=n(89774),p=n(33656),m=n(40724),u=n(84173),h=n(73408);const g=e=>(0,h.Y)(x,{name:e});class f extends r.Component{constructor(...e){super(...e),this.state={markdown:this.props.defaultMarkdown,selectedTab:this.props.defaultSelectedTab,error:null},this.converter=(0,p.OT)(),this.handleMdeValueChange=e=>{this.setState({markdown:e})},this.handleTabChange=e=>{this.setState({selectedTab:e})},this.handleSubmitClick=()=>{const{onSubmit:e}=this.props,{markdown:t}=this.state;return this.setState({confirmLoading:!0}),e?Promise.resolve(e(t)).then(()=>{this.setState({confirmLoading:!1,error:null})}).catch(e=>{this.setState({confirmLoading:!1,error:e&&e.getMessageField?e.getMessageField():this.props.intl.formatMessage({id:"SzvvXl",defaultMessage:"Failed to submit"})})}):null},this.handleCancelClick=()=>{this.setState({markdown:this.props.defaultMarkdown,selectedTab:this.props.defaultSelectedTab});const{onCancel:e}=this.props;e&&e()}}componentDidUpdate(e){e.defaultMarkdown===this.props.defaultMarkdown&&e.defaultSelectedTab===this.props.defaultSelectedTab||this.setState({markdown:this.props.defaultMarkdown,selectedTab:this.props.defaultSelectedTab})}contentHasChanged(){return this.state.markdown!==this.props.defaultMarkdown}renderActions(){const{confirmLoading:e}=this.state;return(0,h.Y)("div",{className:"mlflow-editable-note-actions","data-testid":"editable-note-actions",children:(0,h.FD)("div",{children:[(0,h.Y)(o.B,{componentId:"codegen_mlflow_app_src_common_components_editablenote.tsx_114",type:"primary",className:"editable-note-save-button",onClick:this.handleSubmitClick,disabled:!this.contentHasChanged()||e,loading:e,"data-testid":"editable-note-save-button",children:this.props.saveText}),(0,h.Y)(o.B,{componentId:"codegen_mlflow_app_src_common_components_editablenote.tsx_124",htmlType:"button",className:"editable-note-cancel-button",onClick:this.handleCancelClick,disabled:e,children:(0,h.Y)(m.A,{id:"17k196",defaultMessage:"Cancel"})})]})})}getSanitizedHtmlContent(){const{markdown:e}=this.state;if(e){const t=(0,p.NW)(this.converter.makeHtml(e));return(0,p.Yc)(t)}return null}render(){const{showEditor:e}=this.props,{markdown:t,selectedTab:n,error:i}=this.state,o=this.getSanitizedHtmlContent();return(0,h.Y)("div",{className:"note-view-outer-container","data-testid":"note-view-outer-container",children:e?(0,h.FD)(r.Fragment,{children:[(0,h.Y)("div",{className:"note-view-text-area",children:(0,h.Y)(v,{value:t||"",minEditorHeight:this.props.minEditorHeight,maxEditorHeight:this.props.maxEditorHeight,minPreviewHeight:50,childProps:this.props.childProps,toolbarCommands:this.props.toolbarCommands,onChange:this.handleMdeValueChange,selectedTab:n,onTabChange:this.handleTabChange,generateMarkdownPreview:e=>Promise.resolve(this.getSanitizedHtmlContent(e)),getIcon:g})}),i&&(0,h.Y)(s.Alert,{componentId:"codegen_mlflow_app_src_common_components_editablenote.tsx_178",type:"error",message:this.props.intl.formatMessage({id:"79dD5F",defaultMessage:"There was an error submitting your note."}),description:i,closable:!0}),this.renderActions(),(0,h.Y)(d,{when:this.contentHasChanged(),message:this.props.intl.formatMessage({id:"dwTTNK",defaultMessage:"Are you sure you want to navigate away? Your pending text changes will be lost."})})]}):(0,h.Y)(_,{content:o})})}}function x(e){const{theme:t}=(0,o.u)(),{name:n}=e;return(0,h.Y)(a.T,{side:"top",content:n,componentId:"mlflow.common.components.editable-note.tooltip-icon",children:(0,h.Y)("span",{css:(0,i.AH)({color:t.colors.textPrimary},""),children:(0,h.Y)(c.SvgIcon,{icon:n})})})}function v(e){const{theme:t}=(0,o.u)(),n=r.useMemo(()=>({"--mlflow-dark-bg-primary":t.colors.backgroundPrimary,"--mlflow-dark-bg-secondary":t.colors.backgroundSecondary,"--mlflow-dark-bg-hover":t.colors.actionDefaultBackgroundHover,"--mlflow-dark-text-primary":t.colors.textPrimary,"--mlflow-dark-border":t.colors.border}),[t]),i=t.isDarkMode;return(0,h.Y)("div",{className:i?"mlflow-dark-theme":"",style:n,children:(0,h.Y)(c.default,{...e})})}function _(e){const{content:t}=e;return t?(0,h.Y)("div",{className:"note-view-outer-container","data-testid":"note-view-outer-container",children:(0,h.Y)("div",{className:"note-view-text-area",children:(0,h.Y)("div",{className:"note-view-preview note-editor-preview",children:(0,h.Y)("div",{className:"note-editor-preview-content","data-testid":"note-editor-preview-content",dangerouslySetInnerHTML:{__html:e.content}})})})}):(0,h.Y)("div",{children:(0,h.Y)(m.A,{id:"PRe/8y",defaultMessage:"None"})})}f.defaultProps={defaultMarkdown:"",defaultSelectedTab:"write",showEditor:!1,saveText:(0,h.Y)(m.A,{id:"Shv28w",defaultMessage:"Save"}),confirmLoading:!1,toolbarCommands:[["header","bold","italic","strikethrough"],["link","quote","code","image"],["unordered-list","ordered-list","checked-list"]],maxEditorHeight:500,minEditorHeight:200,childProps:{}};const b=(0,u.Ay)(f)},56364:function(e,t,n){n.d(t,{T:function(){return m}});var i=n(68248),r=n(82716),o=n(27757),s=n(79081),a=n(46709),l=n(40724),d=n(44105),c=n(91944),p=n(73408);const m=({onDismiss:e,onConfirm:t})=>{const{theme:n}=(0,o.u)(),[m,u]=(0,a.useState)(d.Gk.GENAI_DEVELOPMENT);return(0,p.FD)(s.d,{visible:!0,componentId:"mlflow.experiment_view.header.experiment_kind_inference_modal",onCancel:e,title:(0,p.Y)(l.A,{id:"YqW83+",defaultMessage:"Choose experiment type"}),cancelText:(0,p.Y)(l.A,{id:"B/On/j",defaultMessage:"I'll choose later"}),okText:(0,p.Y)(l.A,{id:"Yx79Vd",defaultMessage:"Confirm"}),onOk:()=>t(m),children:[(0,p.Y)(o.T.Paragraph,{children:(0,p.Y)(l.A,{id:"BEFBcB",defaultMessage:"We support multiple experiment types, each with its own set of features. Please select the type you'd like to use. You can change this later if needed."})}),(0,p.FD)("div",{css:(0,i.AH)({display:"flex",flexDirection:"column",gap:n.spacing.sm,marginBottom:n.spacing.sm},""),children:[(0,p.Y)(r.Radio,{checked:m===d.Gk.GENAI_DEVELOPMENT,onChange:()=>u(d.Gk.GENAI_DEVELOPMENT),children:(0,p.Y)(l.A,{...c.UI[d.Gk.GENAI_DEVELOPMENT]})}),(0,p.Y)(r.Radio,{checked:m===d.Gk.CUSTOM_MODEL_DEVELOPMENT,onChange:()=>u(d.Gk.CUSTOM_MODEL_DEVELOPMENT),children:(0,p.Y)(l.A,{...c.UI[d.Gk.CUSTOM_MODEL_DEVELOPMENT]})})]})]})}},60323:function(e,t,n){n.d(t,{f:function(){return E}});var i=n(82716),r=n(27757),o=n(79081),s=n(21678),a=n(76118),l=n(46709),d=n(77680),c=n(40724),p=n(44105),m=n(91944),u=n(68248),h=n(7655),g=n(73408);var f={name:"4bgdod",styles:"display:block;position:relative"},x={name:"1l2g5rl",styles:"position:absolute;left:0;bottom:0;right:0;height:0"},v={name:"82a6rk",styles:"flex:1"},_={name:"1hetg88",styles:"max-width:300px"};const b=({children:e,inferredExperimentKind:t,onConfirm:n,onDismiss:i,isInferredKindEditable:o=!1})=>{const s=(0,h.A)(),{theme:a}=(0,r.u)();return(0,g.FD)("div",{css:f,children:[e,(0,g.FD)(r.aw.Root,{componentId:"mlflow.experiment_view.header.experiment_kind_inference_popover",open:!0,modal:!1,children:[(0,g.Y)(r.aw.Trigger,{asChild:!0,children:(0,g.Y)("div",{css:x})}),(0,g.FD)(r.aw.Content,{css:!0,children:[(0,g.Y)(r.aw.Arrow,{}),(0,g.FD)("div",{css:(0,u.AH)({display:"flex",alignItems:"flex-start",gap:a.spacing.sm},""),children:[(0,g.FD)("div",{css:v,children:[(0,g.Y)(r.T.Paragraph,{css:_,children:(0,g.Y)(c.A,{id:"Jxhb2w",defaultMessage:"We've automatically detected the experiment type to be ''{kindLabel}''. {isEditable, select, true {You can either confirm or change the type.} other {}}",values:{kindLabel:s.formatMessage(m.bf[t]),isEditable:o}})}),(0,g.Y)(r.B,{componentId:"mlflow.experiment_view.header.experiment_kind_inference_popover.confirm",onClick:n,type:"primary",size:"small",children:(0,g.Y)(c.A,{id:"4AkzyD",defaultMessage:"Confirm"})})]}),(0,g.Y)(r.B,{componentId:"mlflow.experiment_view.header.experiment_kind_inference_popover.dismiss",onClick:i,icon:(0,g.Y)(r.C,{}),size:"small"})]})]})]})]})};var M={name:"1wcfv52",styles:"margin-right:0"};const E=({value:e,inferredExperimentKind:t,onChange:n,isUpdating:o,readOnly:u=!1})=>{const h=(0,l.useMemo)(()=>(0,a.entries)(m.UI).filter(([e])=>(0,m.$g)().includes(e)),[]),f=(0,l.useMemo)(()=>t?(0,m.q5)(t):(0,s.SK)(p.Gk,e,p.Gk.NO_INFERRED_TYPE),[e,t]),x=((e,t)=>e===p.Gk.NO_INFERRED_TYPE||e===p.Gk.EMPTY?t?m.UI[p.Gk.NO_INFERRED_TYPE]:(0,d.zR)({id:"eapsJa",defaultMessage:"Select a type"}):m.UI[e])(f,u),[v,_]=(0,l.useState)(!1),[E,w]=(0,l.useState)(Boolean(t&&!u&&(0,m.uk)(t))),k=(0,m.uk)(f)&&!u,y=(0,g.FD)(i.Tag,{icon:o?(0,g.Y)(r.S,{size:"small"}):null,componentId:"mlflow.experiment_view.header.experiment_kind_selector",css:M,onClick:k?()=>{}:void 0,children:[x&&(0,g.Y)(c.A,{...x})," ",k&&(0,g.Y)(i.ChevronDownIcon,{})]}),S=(0,g.Y)(Y,{children:k?y:(0,g.Y)("span",{children:y})});if(u)return S;const I=(0,g.FD)(i.DropdownMenu.Root,{modal:!1,open:v,onOpenChange:e=>{w(!1),_(e)},children:[(0,g.Y)(Y,{children:(0,g.Y)(i.DropdownMenu.Trigger,{asChild:!0,children:y})}),(0,g.FD)(i.DropdownMenu.Content,{align:"start",children:[(0,g.Y)(i.DropdownMenu.Arrow,{}),(0,g.Y)(i.DropdownMenu.Label,{children:(0,g.Y)(c.A,{id:"vQa9lQ",defaultMessage:"Experiment type"})}),h.map(([e,t])=>{const r=e===f;return(0,g.FD)(i.DropdownMenu.CheckboxItem,{componentId:"codegen_no_dynamic_mlflow_web_js_src_experiment_tracking_components_experiment_page_components_header_experimentviewheaderkindselector_113",onClick:()=>null===n||void 0===n?void 0:n(e),checked:r,children:[(0,g.Y)(i.DropdownMenu.ItemIndicator,{}),(0,g.Y)(c.A,{...t})]},e)})]})]});return E&&t?(0,g.Y)(b,{inferredExperimentKind:t,onConfirm:async()=>{t&&(null===n||void 0===n||n((0,m.q5)(t))),w(!1)},onDismiss:()=>w(!1),isInferredKindEditable:(0,m.uk)(f),children:k?I:S}):k?I:S},Y=({children:e})=>(0,g.Y)(o.T,{componentId:"mlflow.experiment_view.header.experiment_kind_selector.tooltip",content:(0,g.Y)(c.A,{id:"vQa9lQ",defaultMessage:"Experiment type"}),children:e})},63776:function(e,t,n){n.d(t,{n:function(){return i}});const i=e=>{var t,n;return null!==(t=null===(n=e.tags)||void 0===n?void 0:n.some(({key:e})=>e.startsWith("mlflow.demo.version.")))&&void 0!==t&&t}},64080:function(e,t,n){n.d(t,{J:function(){return o},N:function(){return s}});var i=n(12803),r=n(43748);const o=e=>(t,n,r)=>{n?e().includes(n)?r(`Experiment "${n}" already exists.`):i.x.getExperimentByName({experiment_name:n}).then(e=>r(`Experiment "${n}" already exists in deleted state.\n                                 You can restore the experiment, or permanently delete the\n                                 experiment from the .trash folder (under tracking server's\n                                 root folder) in order to use this experiment name again.`)).catch(e=>r(void 0)):r(void 0)},s=(e,t,n)=>{t?r.x.getRegisteredModel({name:t}).then(()=>n(`Model "${t}" already exists.`)).catch(e=>n(void 0)):n(void 0)}},66076:function(e,t,n){n.d(t,{i:function(){return de},J:function(){return me}});var i=n(68248),r=n(46709),o=n(27757),s=n(82716),a=n(79081),l=n(40724),d=n(91105),c=n(60284),p=n(7655),m=n(73408);const u=({experiment:e,size:t})=>{const n=(0,p.A)();return(0,m.Y)(o.T.Text,{size:t,dangerouslySetAntdProps:{copyable:{text:e.name,icon:(0,m.Y)(s.CopyIcon,{}),tooltips:[n.formatMessage({id:"A7R0ii",defaultMessage:"Copy path"}),n.formatMessage({id:"JCboZ7",defaultMessage:"Path copied"})]}}})},h=({artifactLocation:e})=>(0,m.Y)(m.FK,{children:e}),g=({experiment:e})=>{const t=(0,p.A)();return(0,m.Y)(o.T.Text,{size:"md",dangerouslySetAntdProps:{copyable:{text:e.experimentId,icon:(0,m.Y)(s.CopyIcon,{}),tooltips:[t.formatMessage({id:"rytnce",defaultMessage:"Copy experiment id"}),t.formatMessage({id:"qH2cN+",defaultMessage:"Experiment id copied"})]}}})},f=({experiment:e})=>{const t=(0,p.A)();return(0,m.Y)(o.T.Text,{size:"md",dangerouslySetAntdProps:{copyable:{text:e.artifactLocation,icon:(0,m.Y)(s.CopyIcon,{}),tooltips:[t.formatMessage({id:"cSSMIs",defaultMessage:"Copy artifact location"}),t.formatMessage({id:"5aZ7nE",defaultMessage:"Artifact location copied"})]}}})};var x=n(44105),v=n(32667),_=n(95328),b=n(21678),M=n(31655);const E={label:(0,m.Y)(l.A,{id:"L/U++H",defaultMessage:"Runs"}),icon:(0,m.Y)(a.L,{}),getRoute:e=>c.Ay.getExperimentPageTabRoute(e,x.fM.Runs)},Y={label:(0,m.Y)(l.A,{id:"ViqP7B",defaultMessage:"Traces"}),icon:(0,m.Y)(s.ListBorderIcon,{}),getRoute:e=>c.Ay.getExperimentPageTabRoute(e,x.fM.Traces)},w={label:(0,m.Y)(l.A,{id:"ep1s0U",defaultMessage:"Evaluations"}),icon:(0,m.Y)(s.PlusMinusSquareIcon,{}),getRoute:e=>c.Ay.getExperimentPageTabRoute(e,x.fM.EvaluationRuns)},k={label:(0,m.Y)(l.A,{id:"AxdKIr",defaultMessage:"Versions"}),icon:(0,m.Y)(s.ModelsIcon,{}),getRoute:e=>c.Ay.getExperimentPageTabRoute(e,x.fM.Models)},y={label:(0,m.Y)(l.A,{id:"vlZ7Rr",defaultMessage:"Judges"}),icon:(0,m.Y)(s.GavelIcon,{}),getRoute:e=>c.Ay.getExperimentPageTabRoute(e,x.fM.Judges)},S=({includeRunsTab:e=!1}={})=>({...e&&{[x.fM.Runs]:E},[x.fM.Traces]:Y,[x.fM.EvaluationRuns]:w,[x.fM.Models]:k,...(0,M.J8)()&&{[x.fM.Judges]:y}}),I=(S(),{[x.fM.Runs]:E,[x.fM.Models]:{...k,label:(0,m.Y)(l.A,{id:"QHTLV9",defaultMessage:"Models"})},[x.fM.Traces]:Y,...(0,M.J8)()&&{[x.fM.Judges]:y}}),A={...I};var T=n(35154);const C=(e,t=!1)=>{switch(e){case x.Gk.GENAI_DEVELOPMENT:case x.Gk.GENAI_DEVELOPMENT_INFERRED:return(0,M.Xs)()?(({includeRunsTab:e=!1}={})=>({...e&&{[x.fM.Runs]:E},[x.fM.Traces]:Y,[x.fM.Models]:k,...(0,M.J8)()&&{[x.fM.Judges]:y}}))({includeRunsTab:t}):S({includeRunsTab:t});case x.Gk.CUSTOM_MODEL_DEVELOPMENT:case x.Gk.CUSTOM_MODEL_DEVELOPMENT_INFERRED:case x.Gk.FORECASTING:case x.Gk.REGRESSION:case x.Gk.AUTOML:case x.Gk.CLASSIFICATION:return I;default:return A}};var N={name:"eivff4",styles:"display:none"};const R=({experimentKind:e})=>{var t;const{experimentId:n,tabName:l}=(0,d.g)(),{theme:c}=(0,o.u)(),[p]=(0,v.an)(),u=e===x.Gk.GENAI_DEVELOPMENT||e===x.Gk.GENAI_DEVELOPMENT_INFERRED,{trainingRuns:h}=(0,_.X)({experimentId:n||"",enabled:u,filter:""}),{topLevelTabName:g}=(0,T.H)();let f=(0,b.SK)(x.fM,l,void 0);f===x.fM.Datasets&&(f=x.fM.EvaluationRuns),f===x.fM.LabelingSchemas&&(f=x.fM.LabelingSessions);const M=(e=>["TABLE","CHART","ARTIFACT"].includes(e))(p)?x.fM.Runs:(e=>["TRACES"].includes(e))(p)?x.fM.Traces:p,E=null!==(t=null!==g&&void 0!==g?g:f)&&void 0!==t?t:M,Y=(null===h||void 0===h?void 0:h.length)>0,w=C(null!==e&&void 0!==e?e:x.Gk.NO_INFERRED_TYPE,u&&Y);return(0,m.Y)(s.SegmentedControlGroup,{value:E,name:"tab-toggle-bar",componentId:"mlflow.experiment-tracking.tab-toggle-bar",newStyleFlagOverride:!0,css:(0,i.AH)({justifySelf:"center",[c.responsive.mediaQueries.xl]:{"& .tab-icon-text":{display:"inline-flex"},"& .tab-icon-with-tooltip":{display:"none"}}},""),children:Object.entries(w).map(([e,t])=>{const i=e===E;return(0,m.FD)(r.Fragment,{children:[(0,m.Y)(d.N_,{css:N,className:"tab-icon-text",to:t.getRoute(null!==n&&void 0!==n?n:""),children:(0,m.Y)(s.SegmentedControlButton,{"data-testid":`tab-selector-button-text-${e}-${i?"active":"inactive"}`,className:"tab-icon-text",value:e,icon:t.icon,children:(0,m.Y)("span",{children:t.label})})},`${e}-text`),(0,m.Y)(d.N_,{className:"tab-icon-with-tooltip",to:t.getRoute(null!==n&&void 0!==n?n:""),children:(0,m.Y)(s.SegmentedControlButton,{"data-testid":`tab-selector-button-icon-${e}-${i?"active":"inactive"}`,className:"tab-icon-with-tooltip",value:e,icon:(0,m.Y)(a.T,{delayDuration:0,content:(0,m.Y)("span",{children:t.label}),componentId:"codegen_no_dynamic_mlflow_web_js_src_experiment_tracking_components_experiment_page_components_header_tab_selector_bar_tabselectorbar_184",children:(0,m.Y)("span",{children:t.icon})})})},`${e}-tooltip`)]},e)})})};var F=n(80042),D=n(91944),P=n(10536),O=n(84561),L=n(5690),H=n(11522),B=n(56530),G=n(43233),V=n(2560);class $ extends r.Component{constructor(...e){super(...e),this.handleSubmit=()=>{const{experimentId:e,activeExperimentIds:t}=this.props,n=(0,G.yk)();return this.props.deleteExperimentApi(e,n).then(()=>{if(null!==t&&void 0!==t&&t.includes(e))if(1===t.length)this.props.navigate(c.Ay.rootRoute);else{const n=t.filter(t=>t!==e),i=1===n.length?c.Ay.getExperimentPageRoute(n[0]):c.Ay.getCompareExperimentsPageRoute(n);this.props.navigate(i)}}).then(()=>this.props.onExperimentDeleted()).catch(e=>{H.A.logErrorAndNotifyUser(e)})}}render(){return(0,m.Y)(O.u,{isOpen:this.props.isOpen,onClose:this.props.onClose,handleSubmit:this.handleSubmit,title:`Delete Experiment "${this.props.experimentName}"`,helpText:(0,m.FD)("div",{children:[(0,m.Y)("p",{children:(0,m.FD)("b",{children:['Experiment "',this.props.experimentName,'" (Experiment ID: ',this.props.experimentId,") will be deleted."]})}),""]}),confirmButtonText:"Delete"})}}const z={deleteExperimentApi:L.lJ},U=(0,V.h)((0,B.Ng)(void 0,z)($));var K=n(49356),q=n.n(K),J=n(29452),W=n(14466),Z=n(64080),j=n(40072);class Q extends r.Component{constructor(...e){super(...e),this.handleRenameExperiment=e=>{const t=e[W.m];return this.props.updateExperimentApi(this.props.experimentId,t).then(()=>{this.props.getExperimentApi(this.props.experimentId),this.props.onExperimentRenamed()}).catch(e=>H.A.logErrorAndNotifyUser(e))},this.debouncedExperimentNameValidator=q()((0,Z.J)(()=>this.props.experimentNames),400)}render(){const{isOpen:e,experimentName:t}=this.props;return(0,m.Y)(J.B,{title:"Rename Experiment",okText:"Save",isOpen:e,handleSubmit:this.handleRenameExperiment,onClose:this.props.onClose,children:(0,m.Y)(W.P,{type:"experiment",name:t,visible:e,validator:this.debouncedExperimentNameValidator})})}}const X={updateExperimentApi:L.Td,getExperimentApi:L.yc},ee=(0,B.Ng)(e=>({experimentNames:(0,j.DZ)(e).map(e=>e.name)}),X)(Q);var te=n(26158);const ne=({experiment:e,setEditing:t,baseComponentId:n="mlflow.experiment_page.managementMenu",refetchExperiment:i})=>{const[s,a]=(0,r.useState)(!1),[p,u]=(0,r.useState)(!1),h=(0,te.M)(),g=(0,d.Zp)();return(0,m.FD)(m.FK,{children:[(0,m.Y)(P.o,{menu:[...t?[{id:"edit-description",itemName:(0,m.Y)(o.T.Text,{children:(0,m.Y)(l.A,{id:"6R2ply",defaultMessage:"Edit description"})}),onClick:()=>null===t||void 0===t?void 0:t(!0)}]:[],{id:"rename",itemName:(0,m.Y)(l.A,{id:"3FZ8dZ",defaultMessage:"Rename"}),onClick:()=>a(!0)},{id:"delete",itemName:(0,m.Y)(l.A,{id:"YuYnxd",defaultMessage:"Delete"}),onClick:()=>u(!0)}]}),(0,m.Y)(ee,{experimentId:e.experimentId,experimentName:e.name,isOpen:s,onClose:()=>a(!1),onExperimentRenamed:()=>{h(),null===i||void 0===i||i()}}),(0,m.Y)(U,{experimentId:e.experimentId,experimentName:e.name,isOpen:p,onClose:()=>u(!1),onExperimentDeleted:()=>{h(),g(c.Ay.experimentsObservatoryRoute)}})]})};var ie=n(69959);const re=e=>{if(!e||!(0,M.Z0)())return(0,m.Y)(s.BeakerIcon,{});switch(e){case x.fM.Overview:return(0,m.Y)(s.ChartLineIcon,{});case x.fM.Runs:return(0,m.Y)(a.L,{});case x.fM.Traces:return(0,m.Y)(s.ForkHorizontalIcon,{});case x.fM.Models:return(0,m.Y)(s.ModelsIcon,{});case x.fM.ChatSessions:case x.fM.SingleChatSession:return(0,m.Y)(s.SpeechBubbleIcon,{});case x.fM.Datasets:return(0,m.Y)(s.DatabaseIcon,{});case x.fM.EvaluationRuns:return(0,m.Y)(s.PlusMinusSquareIcon,{});case x.fM.Judges:return(0,m.Y)(s.GavelIcon,{});case x.fM.Prompts:return(0,m.Y)(s.TextBoxIcon,{});case x.fM.LabelingSessions:return(0,m.Y)(s.UserGroupIcon,{});case x.fM.LabelingSchemas:return(0,m.Y)(s.TextBoxIcon,{});default:return(0,m.Y)(s.BeakerIcon,{})}},oe=e=>{switch(e){case x.fM.Models:return(0,m.Y)(l.A,{id:"jhjCgW",defaultMessage:"Agent versions"});case x.fM.Runs:return(0,m.Y)(l.A,{id:"NhEmyj",defaultMessage:"Training runs"});default:return se(e)}},se=e=>{switch(e){case x.fM.Overview:return(0,m.Y)(l.A,{id:"0r2ub6",defaultMessage:"Overview"});case x.fM.Runs:return(0,m.Y)(l.A,{id:"x5ukxr",defaultMessage:"Runs"});case x.fM.Traces:return(0,m.Y)(l.A,{id:"ViqP7B",defaultMessage:"Traces"});case x.fM.SingleChatSession:case x.fM.ChatSessions:return(0,m.Y)(l.A,{id:"9Gg0Q8",defaultMessage:"Chat sessions"});case x.fM.Datasets:return(0,m.Y)(l.A,{id:"5N1yG6",defaultMessage:"Datasets"});case x.fM.EvaluationRuns:return(0,m.Y)(l.A,{id:"NEQwMj",defaultMessage:"Evaluation runs"});case x.fM.Judges:return(0,m.Y)(l.A,{id:"vlZ7Rr",defaultMessage:"Judges"});case x.fM.LabelingSessions:return(0,m.Y)(l.A,{id:"rPbiUM",defaultMessage:"Labeling sessions"});case x.fM.LabelingSchemas:return(0,m.Y)(l.A,{id:"MZCW9F",defaultMessage:"Labeling schemas"});case x.fM.Prompts:return(0,m.Y)(l.A,{id:"9/KT56",defaultMessage:"Prompts"});case x.fM.Models:return(0,m.Y)(l.A,{id:"PmPV+3",defaultMessage:"Models"});default:return e}};var ae={name:"1gw6v2o",styles:"max-width:100%;overflow:hidden"},le={name:"1h52dri",styles:"overflow:hidden;text-overflow:ellipsis;white-space:nowrap"};const de=r.memo(({experiment:e,inferredExperimentKind:t,searchFacetsState:n,uiState:p,setEditing:v,experimentKindSelector:_,refetchExperiment:b})=>{const{theme:E}=(0,o.u)(),Y=(0,d.Zp)(),w=(0,d.zy)(),k=(0,r.useCallback)(()=>{const e=w.pathname.split("/").filter(Boolean);e.length<=3&&"experiments"===e[0]?Y(c.Ay.experimentsObservatoryRoute):(e.pop(),Y("/"+e.join("/")))},[w.pathname,Y]),y=(0,r.useMemo)(()=>e?[null===e||void 0===e?void 0:e.experimentId]:[],[e]),{tabName:S}=(0,T.H)(),{workflowType:I}=(0,ie.B)(),A=S?((e,t)=>t===ie.g$.GENAI?oe(e):se(e))(S,I):void 0,C=(0,r.useMemo)(()=>e.name.split("/").pop(),[e.name]),N=(0,M.Z0)()&&A?A:C,P=(0,r.useMemo)(()=>{var t;return[(0,m.Y)(d.N_,{to:c.Ay.experimentsObservatoryRoute,"data-testid":"experiment-observatory-link",children:(0,m.Y)(l.A,{id:"XBtNVo",defaultMessage:"Experiments"})}),(0,m.Y)(d.N_,{to:c.Ay.getExperimentPageRoute(null!==(t=e.experimentId)&&void 0!==t?t:""),"data-testid":"experiment-link",children:C})]},[e.experimentId,C]),O=(0,D.Fi)(e.tags),L=null!==t&&void 0!==t?t:O,H=((e=>{(0,D.qp)(e)})(null!==L&&void 0!==L?L:x.Gk.NO_INFERRED_TYPE),!(0,M.mp)()||(0,M.Z0)());return(0,m.FD)("div",{css:(0,i.AH)({display:"flex",flexDirection:"column",gap:E.spacing.xs,marginBottom:(0,M.mp)()?E.spacing.xs:E.spacing.sm},""),children:[H&&(0,m.Y)(s.Breadcrumb,{includeTrailingCaret:!0,children:P.map((e,t)=>(0,m.Y)(s.Breadcrumb.Item,{children:e},t))}),(0,m.FD)("div",{css:(0,i.AH)({display:"grid",gridTemplateColumns:(0,M.mp)()?"1fr auto auto":"1fr 1fr 1fr"},""),children:[(0,m.FD)("div",{css:(0,i.AH)({display:"flex",gap:E.spacing.sm,alignItems:"center",overflow:"hidden",minWidth:250},""),children:[(0,M.mp)()&&(0,m.FD)(m.FK,{children:[!(0,M.Z0)()&&(0,m.Y)(o.B,{componentId:"mlflow.experiment-page.header.back-icon-button","data-testid":"experiment-view-header-back-button",type:"tertiary",icon:(0,m.Y)(s.ArrowLeftIcon,{}),onClick:k}),(0,m.Y)("div",{css:(0,i.AH)({borderRadius:E.borders.borderRadiusSm,backgroundColor:E.colors.backgroundSecondary,padding:E.spacing.sm},""),children:re(S)})]}),(0,m.Y)(a.T,{content:C,open:!(0,M.Z0)()&&void 0,componentId:"mlflow.experiment_view.header.experiment-name-tooltip",children:(0,m.Y)("span",{css:ae,children:(0,m.Y)(o.T.Title,{withoutMargins:!0,level:2,css:le,children:N})})}),_,(0,m.Y)("div",{style:{display:"flex",marginRight:E.spacing.sm},children:(0,m.Y)(s.InfoPopover,{iconTitle:"Info",children:(0,m.FD)("div",{css:(0,i.AH)({display:"flex",flexDirection:"column",gap:E.spacing.xs,flexWrap:"nowrap"},""),"data-testid":"experiment-view-header-info-tooltip-content",children:[(0,m.FD)("div",{style:{whiteSpace:"nowrap"},children:[(0,m.Y)(l.A,{id:"F8MqzZ",defaultMessage:"Path"}),": ",e.name+" ",(0,m.Y)(u,{experiment:e,size:"md"})]}),(0,m.FD)("div",{style:{whiteSpace:"nowrap"},children:[(0,m.Y)(l.A,{id:"PZGZHV",defaultMessage:"Experiment ID"}),": ",e.experimentId+" ",(0,m.Y)(g,{experiment:e})]}),(0,m.FD)("div",{style:{whiteSpace:"nowrap"},children:[(0,m.Y)(l.A,{id:"8/7V3S",defaultMessage:"Artifact Location"}),": ",(0,m.Y)(h,{artifactLocation:e.artifactLocation})," ",(0,m.Y)(f,{experiment:e})]})]})})})]}),(0,M.mp)()?(0,m.Y)("div",{}):(0,m.Y)(R,{experimentKind:L}),(0,m.FD)("div",{css:(0,i.AH)({display:"flex",gap:E.spacing.sm,justifyContent:"flex-end",marginLeft:E.spacing.sm},""),children:[(0,M.mp)()&&(0,m.Y)(ne,{experiment:e,setEditing:v,refetchExperiment:b}),(0,m.Y)(F.z,{type:(0,M.mp)()?void 0:"primary",experimentIds:y,searchFacetsState:n,uiState:p}),(0,M.mp)()&&!1,!(0,M.mp)()&&(0,m.Y)(ne,{experiment:e,setEditing:v,refetchExperiment:b})]})]})]})});var ce={name:"1pzk433",styles:"width:100px"},pe={name:"1s8dw6e",styles:"display:grid;grid-template-columns:1fr 1fr 1fr"};function me(){const{theme:e}=(0,o.u)();return(0,m.FD)("div",{css:(0,i.AH)({display:"flex",flexDirection:"column",gap:e.spacing.xs},""),children:[(0,m.Y)(s.ParagraphSkeleton,{css:ce,loading:!0}),(0,m.FD)("div",{css:pe,children:[(0,m.Y)(s.TitleSkeleton,{css:(0,i.AH)({width:150,height:e.general.heightSm},""),loading:!0}),(0,m.Y)(s.TitleSkeleton,{css:(0,i.AH)({height:e.general.heightSm,alignSelf:"center"},""),loading:!0}),(0,m.Y)(s.TitleSkeleton,{css:(0,i.AH)({width:e.spacing.lg,height:e.general.heightSm,alignSelf:"right"},""),loading:!0})]})]})}},80042:function(e,t,n){n.d(t,{z:function(){return k}});var i=n(27757),r=n(46709),o=n(40724),s=n(79081),a=n(66916),l=n(91701),d=n(73408);var c={name:"490tlg",styles:"display:flex;gap:4px"};const p=({copyText:e})=>(0,d.FD)("div",{css:c,children:[(0,d.Y)(a.I,{componentId:"codegen_mlflow_app_src_shared_building_blocks_copybox.tsx_18",readOnly:!0,value:e,"data-testid":"copy-box"}),(0,d.Y)(l.i,{copyText:e})]}),m=({visible:e,onCancel:t,link:n})=>(0,d.Y)(s.d,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_modals_getlinkmodal.tsx_21",title:(0,d.Y)(o.A,{id:"ktiuki",defaultMessage:"Get Link"}),visible:e,onCancel:t,children:(0,d.Y)(p,{copyText:n})});var u=n(82716),h=n(56530),g=n(5690),f=n(60284),x=n(63908),v=n(11522),_=n(44105),b=n(31655),M=n(32667);var E={name:"11jf4ye",styles:"display:flex;gap:8px"},Y={name:"82a6rk",styles:"flex:1"};const w=({onCancel:e,visible:t,experimentIds:n,searchFacetsState:i,uiState:c})=>{const[p,m]=(0,r.useState)(""),[w,k]=(0,r.useState)(!0),[y,S]=(0,r.useState)(null),[I]=(0,M.an)(),A=(0,h.wA)(),T=(0,r.useMemo)(()=>({...i,...c}),[i,c]),C=(0,r.useCallback)(async e=>{if(n.length>1)return k(!1),S(e),void m(window.location.href);k(!0);const[t]=n;try{const n=await(async e=>(0,b.YP)()?(0,x.z7)(JSON.stringify(e)):JSON.stringify(e))(e),i=await(0,x.Xb)(n),r=`${_.o6}${i}`;await A((0,g.EJ)(t,r,n)),k(!1),S(e),m(((e,t,n)=>{const i=f.Ay.getExperimentPageRoute(e),r=new URLSearchParams;r.set(_.ex,t),n&&r.set(M.b,n);const o=r.toString(),s=`${i}${null!==o&&void 0!==o&&o.startsWith("?")?"":"?"}${o}`;return`${window.location.origin}${window.location.pathname}#${s}`})(t,i,I))}catch(i){throw v.A.logErrorAndNotifyUser("Failed to create shareable link for experiment"),i}},[A,n,I]);return(0,r.useEffect)(()=>{t&&y!==T&&C(T)},[t,C,y,T]),(0,d.Y)(s.d,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_header_experimentgetsharelinkmodal.tsx_101",title:(0,d.Y)(o.A,{id:"6KFQMl",defaultMessage:"Get shareable link"}),visible:t,onCancel:e,children:(0,d.FD)("div",{css:E,children:[w?(0,d.Y)(u.GenericSkeleton,{css:Y}):(0,d.Y)(a.I,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_header_experimentgetsharelinkmodal.tsx_115",placeholder:"Click button on the right to create shareable state",value:p,readOnly:!0}),(0,d.Y)(l.i,{loading:w,copyText:p,"data-testid":"share-link-copy-button"})]})})},k=({searchFacetsState:e,uiState:t,experimentIds:n,type:s})=>{const[a,l]=(0,r.useState)(!1);return(0,d.FD)(d.FK,{children:[e&&t&&n?(0,d.Y)(w,{searchFacetsState:e,uiState:t,visible:a,onCancel:()=>l(!1),experimentIds:n}):(0,d.Y)(m,{link:window.location.href,visible:a,onCancel:()=>l(!1)}),(0,d.Y)(i.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_header_experimentviewheadersharebutton.tsx_44",type:s,onClick:()=>l(!0),"data-testid":"share-button",children:(0,d.Y)(o.A,{id:"2oFAO4",defaultMessage:"Share"})})]})}},83432:function(e,t,n){n.d(t,{F:function(){return h}});var i=n(46709),r=n(49708),o=n(12803),s=n(76118),a=n(59930),l=n.n(a);var d=n(44105);var c=n(91944),p=n(91105),m=n(60284),u=n(31655);const h=({experimentId:e,isLoadingExperiment:t,enabled:n=!0,experimentTags:a,updateExperimentKind:h})=>{const g=(0,u.Z0)(),f=n&&!g,{containsTraces:x,isLoading:v}=(({experimentId:e,enabled:t})=>{const{data:n,isLoading:i}=(0,r.I)(["EXPERIMENT_CONTAINS_TRACES",e],async()=>{l()(e,"experimentId is required");const t=[e];return o.x.getExperimentTraces(t,"timestamp_ms DESC",void 0,void 0,1)},{enabled:t&&Boolean(e),refetchOnWindowFocus:!1});return{containsTraces:!i&&!(0,s.isEmpty)(null===n||void 0===n?void 0:n.traces),isLoading:i&&t&&Boolean(e)}})({experimentId:e,enabled:f}),[_,b]=(0,i.useState)(!1),{containsRuns:M,isLoading:E}=(({experimentId:e,enabled:t})=>{const{data:n,isLoading:a,error:d}=(0,r.I)(["EXPERIMENT_CONTAINS_TRAINING_RUNS",e],async()=>{l()(e,"experimentId is required");const t=[e];return await o.x.searchRuns({experiment_ids:t,max_results:1})},{enabled:Boolean(e)&&t,refetchOnWindowFocus:!1});return{containsRuns:(0,i.useMemo)(()=>!a&&!(0,s.isEmpty)(null===n||void 0===n?void 0:n.runs),[a,n]),isLoading:a&&t&&Boolean(e)}})({experimentId:e,enabled:f}),Y=f&&(t||v||E),w=(0,i.useMemo)(()=>{if(!g&&f&&!Y&&!_)return x?d.Gk.GENAI_DEVELOPMENT_INFERRED:M?d.Gk.CUSTOM_MODEL_DEVELOPMENT_INFERRED:d.Gk.NO_INFERRED_TYPE},[g,f,_,Y,x,M]),{pathname:k}=(0,p.zy)(),y=Boolean((0,p.B6)(m.AY.experimentPage,k)),S=(0,i.useMemo)(()=>{if(y)return w===d.Gk.GENAI_DEVELOPMENT_INFERRED?d.fM.Overview:w===d.Gk.CUSTOM_MODEL_DEVELOPMENT_INFERRED?d.fM.Runs:void 0},[w,y]);return(0,i.useEffect)(()=>{g||!w||(0,c.uk)(w)||h({experimentId:null!==e&&void 0!==e?e:"",kind:w})},[g,e,w,h]),{isLoading:Y,inferredExperimentKind:w,inferredExperimentPageTab:S,dismiss:()=>b(!0)}}},84561:function(e,t,n){n.d(t,{u:function(){return s}});var i=n(46709),r=n(79081),o=n(73408);class s extends i.Component{constructor(e){super(e),this.state={isSubmitting:!1},this.onRequestCloseHandler=this.onRequestCloseHandler.bind(this),this.handleSubmitWrapper=this.handleSubmitWrapper.bind(this)}onRequestCloseHandler(){this.state.isSubmitting||this.props.onClose()}handleSubmitWrapper(){return this.setState({isSubmitting:!0}),this.props.handleSubmit().finally(()=>{this.props.onClose(),this.setState({isSubmitting:!1})})}render(){return(0,o.Y)(r.d,{"data-testid":"confirm-modal",title:this.props.title,visible:this.props.isOpen,onOk:this.handleSubmitWrapper,okText:this.props.confirmButtonText,okButtonProps:this.props.confirmButtonProps,confirmLoading:this.state.isSubmitting,onCancel:this.onRequestCloseHandler,centered:!0,children:(0,o.Y)("div",{className:"modal-explanatory-text",children:this.props.helpText})})}}}}]);